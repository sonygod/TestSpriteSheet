/**
 * Cooked with Flambe
 * https://github.com/aduros/flambe
 */
'use strict';(function(){var p,y,u,j,k,h,w,c,r,B,i,t,b,m,l,a;function v(d,g){function a(){}a.prototype=d;var o=new a,b;for(b in g)o[b]=g[b];return o}function I(d){return d instanceof Array?function(){return q.iter(d)}:"function"==typeof d.iterator?C(d,d.iterator):d.iterator}function C(d,g){null==g.__id__&&(g.__id__=M++);var a;null==d.hx__closures__?d.hx__closures__={}:a=d.hx__closures__[g.__id__];null==a&&(a=function(){return a.method.apply(a.scope,arguments)},a.scope=d,a.method=g,d.hx__closures__[g.__id__]=
a);return a}var f=function(){return u.__string_rec(this,"")},z=function(d,g){g=g.split("u").join("");this.r=RegExp(d,g)};z.__name__=!0;z.prototype={matchedPos:function(){if(null==this.r.m)throw"No string matched";return{pos:this.r.m.index,len:this.r.m[0].length}},matched:function(d){if(null!=this.r.m&&0<=d&&d<this.r.m.length)d=this.r.m[d];else throw"EReg::matched";return d},match:function(d){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(d);this.r.s=d;return null!=this.r.m},__class__:z};
var q=function(){};q.__name__=!0;q.cca=function(d,g){var a=d.charCodeAt(g);return a!=a?void 0:a};q.substr=function(d,g,a){if(null!=g&&0!=g&&null!=a&&0>a)return"";null==a&&(a=d.length);0>g?(g=d.length+g,0>g&&(g=0)):0>a&&(a=d.length+a-g);return d.substr(g,a)};q.remove=function(d,g){for(var a=0,o=d.length;a<o;){if(d[a]==g)return d.splice(a,1),!0;a++}return!1};q.iter=function(d){return{cur:0,arr:d,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var E=
function(){};E.__name__=!0;E.array=function(d){for(var g=[],d=I(d)();d.hasNext();){var a=d.next();g.push(a)}return g};E.count=function(d,g){var a=0;if(null==g)for(var o=I(d)();o.hasNext();)o.next(),a++;else for(o=I(d)();o.hasNext();){var b=o.next();g(b)&&a++}return a};var F=function(){};F.__name__=!0;var A=function(){};A.__name__=!0;A.field=function(d,g){var a=null;try{a=d[g]}catch(o){}return a};A.fields=function(d){var g=[];if(null!=d){var a=Object.prototype.hasOwnProperty,o;for(o in d)"__id__"!=
o&&"hx__closures__"!=o&&a.call(d,o)&&g.push(o)}return g};var x=function(){};x.__name__=!0;x.string=function(d){return u.__string_rec(d,"")};x.parseInt=function(d){var g=parseInt(d,10);if(0==g&&(120==q.cca(d,1)||88==q.cca(d,1)))g=parseInt(d);return isNaN(g)?null:g};x.parseFloat=function(d){return parseFloat(d)};var H=function(){this.b=""};H.__name__=!0;H.prototype={addSub:function(d,g,a){this.b+=null==a?q.substr(d,g,null):q.substr(d,g,a)},__class__:H};var G=function(){};G.__name__=!0;G.main=function(){k.init();
k.hidden.get_changed().connect(function(){null});var d=h.Manifest.build("bootstrap"),d=k._platform.loadAssetPack(d);d.get(G.onSuccess);d.error.connect(function(){null});d.progressChanged.connect(function(){null})};G.onSuccess=function(d){k.root.addChild((new w).add(new c.FillSprite(3158064,k._platform.getStage().get_width(),k._platform.getStage().get_height())));var g=new w;k.root.addChild(g);var a=(new c.tileSheet.TileSheetHelper).prepareAnimTexture(d.getFile("remiWalk.json",!0)),o=[],b=null;g.add(new c.Sprite);
for(var n=0;1E3>n;){var f=n++,i=new w,h=new c.tileSheet.AnimSprite(d.getTexture("remiWalk"));h.initialize(a);h.addSequence("all",[0,1,2,3,4,5,6,7,8,9,10,11],24);h.play("all");h.centerAnchor();i.add(h);h=i._compMap.Sprite_1;null==b&&(b=h);h.x.set__(h.getNaturalWidth()*(f+1));h.y.set__(100+0.01*f);o.push(h);g.addChild(i)}g=new c.camera.GCamera(g,new r.Rectangle(0,0,5E3,5E3));d=new c.Font(d,"tinyfont");k.root.addChild((new w).add(new c.TextSprite(d)).add(new B.FpsDisplay));k.root.addChild((new w).add(g));
g.to(5E3,100,1,100)};k=void 0;h=void 0;w=void 0;c=void 0;r=void 0;B=void 0;i=void 0;t=void 0;b=void 0;m=void 0;l=void 0;a=void 0;l=void 0;l=void 0;i={Disposable:function(){}};i.Disposable.__name__=!0;t=function(){};t.__name__=!0;t.__interfaces__=[i.Disposable];t.prototype={init:function(d,g){this.owner=d;this.next=g},get_name:function(){return null},dispose:function(){null!=this.owner&&this.owner.remove(this)},onUpdate:function(){},onRemoved:function(){},onAdded:function(){},__class__:t};w=function(){this.parent=
this.firstChild=this.next=this.firstComponent=null;this._compMap={}};w.__name__=!0;w.__interfaces__=[i.Disposable];w.prototype={dispose:function(){for(null!=this.parent&&this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();this.disposeChildren()},disposeChildren:function(){for(;null!=this.firstChild;)this.firstChild.dispose()},removeChild:function(d){for(var g=null,a=this.firstChild;null!=a;){var o=a.next;if(a==d){null==g?this.firstChild=o:g.next=o;a.parent=null;
a.next=null;break}g=a;a=o}},addChild:function(d,g){null==g&&(g=!0);null!=d.parent&&d.parent.removeChild(d);d.parent=this;if(g){for(var a=null,o=this.firstChild;null!=o;)a=o,o=o.next;null!=a?a.next=d:this.firstChild=d}else d.next=this.firstChild,this.firstChild=d;return this},remove:function(d){for(var g=null,a=this.firstComponent;null!=a;){var o=a.next;if(a==d){null==g?this.firstComponent=o:g.init(this,o);delete this._compMap[a.get_name()];a.onRemoved();a.init(null,null);break}g=a;a=o}},add:function(d){d.dispose();
var a=d.get_name(),e=this._compMap[a];null!=e&&this.remove(e);this._compMap[a]=d;a=null;for(e=this.firstComponent;null!=e;)a=e,e=e.next;null!=a?a.next=d:this.firstComponent=d;d.init(this,null);d.onAdded();return this},__class__:w};b={Platform:function(){}};b.Platform.__name__=!0;b.Platform.prototype={__class__:b.Platform};b.html={};b.html.HtmlPlatform=function(){};b.html.HtmlPlatform.__name__=!0;b.html.HtmlPlatform.__interfaces__=[b.Platform];b.html.HtmlPlatform.prototype={createRenderer:function(d){return new b.html.CanvasRenderer(d)},
getY:function(d,a){return this._stage.scaleFactor*(d.clientY-a.top)},getX:function(d,a){return this._stage.scaleFactor*(d.clientX-a.left)},getRenderer:function(){return this._renderer},update:function(d){var a=(d-this._lastUpdate)/1E3;this._lastUpdate=d;this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(a),this.mainLoop.render(this._renderer))},getStage:function(){return this._stage},loadAssetPack:function(d){return(new b.html.HtmlAssetPackLoader(this,d)).promise},init:function(){var d=this,
a=null;try{a=j.window.flambe.canvas}catch(e){}a.setAttribute("tabindex","0");a.style.outlineStyle="none";a.setAttribute("moz-opaque","true");this._stage=new b.html.HtmlStage(a);this._pointer=new b.BasicPointer;this._mouse=new b.html.HtmlMouse(this._pointer,a);this._keyboard=new b.BasicKeyboard;this._renderer=this.createRenderer(a);k.hasGPU.set__(!0);this.mainLoop=new b.MainLoop;this._container=a.parentElement;this._container.style.overflow="hidden";this._container.style.position="relative";this._container.style.msTouchAction=
"none";var o=0,c=function(e){if(!(1E3>e.timeStamp-o)){var b=a.getBoundingClientRect(),c=d.getX(e,b),b=d.getY(e,b);switch(e.type){case "mousedown":e.target==a&&(e.preventDefault(),d._mouse.submitDown(c,b,e.button),a.focus());break;case "mousemove":d._mouse.submitMove(c,b);break;case "mouseup":d._mouse.submitUp(c,b,e.button);break;case "mousewheel":case "DOMMouseScroll":d._mouse.submitScroll(c,b,"mousewheel"==e.type?e.wheelDelta/40:-e.detail)&&e.preventDefault()}}};j.window.addEventListener("mousedown",
c,!1);j.window.addEventListener("mousemove",c,!1);j.window.addEventListener("mouseup",c,!1);a.addEventListener("mousewheel",c,!1);a.addEventListener("DOMMouseScroll",c,!1);var n="undefined"!=typeof j.window.ontouchstart,c="msMaxTouchPoints"in window.navigator&&1<window.navigator.msMaxTouchPoints;if(n||c){var f=new b.BasicTouch(this._pointer,n?4:j.navigator.msMaxTouchPoints);this._touch=f;c=function(a){var g=n?a.changedTouches:[a],e=a.target.getBoundingClientRect();o=a.timeStamp;switch(a.type){case "touchstart":case "MSPointerDown":a.preventDefault();
b.html.HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER&&b.html.HtmlUtil.hideMobileBrowser();for(a=0;a<g.length;){var c=g[a];++a;var D=d.getX(c,e),i=d.getY(c,e),c=(n?c.identifier:c.pointerId)|0;f.submitDown(c,D,i)}break;case "touchmove":case "MSPointerMove":a.preventDefault();for(a=0;a<g.length;)c=g[a],++a,D=d.getX(c,e),i=d.getY(c,e),c=(n?c.identifier:c.pointerId)|0,f.submitMove(c,D,i);break;case "touchend":case "touchcancel":case "MSPointerUp":for(a=0;a<g.length;)c=g[a],++a,D=d.getX(c,e),i=d.getY(c,e),c=(n?c.identifier:
c.pointerId)|0,f.submitUp(c,D,i)}};n?(a.addEventListener("touchstart",c,!1),a.addEventListener("touchmove",c,!1),a.addEventListener("touchend",c,!1),a.addEventListener("touchcancel",c,!1)):(a.addEventListener("MSPointerDown",c,!1),a.addEventListener("MSPointerMove",c,!1),a.addEventListener("MSPointerUp",c,!1))}else this._touch=new b.DummyTouch;c=function(a){switch(a.type){case "keydown":d._keyboard.submitDown(a.keyCode)&&a.preventDefault();break;case "keyup":d._keyboard.submitUp(a.keyCode)}};a.addEventListener("keydown",
c,!1);a.addEventListener("keyup",c,!1);var i=j.window.onerror;j.window.onerror=function(d,a,g){k.uncaughtError.emit1(d);return null!=i?i(d,a,g):!1};var h=b.html.HtmlUtil.loadExtension("hidden",j.document);null!=h.value&&(c=function(){k.hidden.set__(A.field(j.document,h.field))},c(null),j.document.addEventListener(h.prefix+"visibilitychange",c,!1),k.hidden.get_changed().connect(function(a){a||(d._skipFrame=!0)}));this._lastUpdate=Date.now();this._skipFrame=!1;var J=b.html.HtmlUtil.loadExtension("requestAnimationFrame").value;
if(null!=J){var l=j.window.performance,m=null!=l&&b.html.HtmlUtil.polyfill("now",l);m?this._lastUpdate=l.now():null;var r=null,r=function(e){d.update(m?l.now():e);J(r,a)};J(r,a)}else j.window.setInterval(function(){d.update(Date.now())},16)},__class__:b.html.HtmlPlatform};i.Value=function(d,a){this._value=d;null!=a&&(this._changed=new i.Signal2(a))};i.Value.__name__=!0;i.Value.prototype={get_changed:function(){null==this._changed&&(this._changed=new i.Signal2);return this._changed},set__:function(d){var a=
this._value;d!=a&&(this._value=d,null!=this._changed&&this._changed.emit2(d,a));return d},watch:function(d){d(this._value,this._value);return this.get_changed().connect(d)},__class__:i.Value};i.SignalConnection=function(d,a){this._next=null;this._signal=d;this._listener=a;this.stayInList=!0};i.SignalConnection.__name__=!0;i.SignalConnection.__interfaces__=[i.Disposable];i.SignalConnection.prototype={dispose:function(){null!=this._signal&&(this._signal.disconnect(this),this._signal=null)},once:function(){this.stayInList=
!1;return this},__class__:i.SignalConnection};i.SignalBase=function(d){this._head=null!=d?new i.SignalConnection(this,d):null;this._deferredTasks=null};i.SignalBase.__name__=!0;i.SignalBase.prototype={listRemove:function(d){for(var a=null,e=this._head;null!=e;){if(e==d){d=e._next;null==a?this._head=d:a._next=d;break}a=e;e=e._next}},listAdd:function(d,a){if(a)d._next=this._head,this._head=d;else{for(var e=null,b=this._head;null!=b;)e=b,b=b._next;null!=e?e._next=d:this._head=d}},didEmit:function(d){for(this._head=
d;null!=this._deferredTasks;)this._deferredTasks.fn(),this._deferredTasks=this._deferredTasks.next},willEmit:function(){var d=this._head;this._head=i.SignalBase.DISPATCHING_SENTINEL;return d},defer:function(d){for(var a=null,e=this._deferredTasks;null!=e;)a=e,e=e.next;d=new i._SignalBase.Task(d);null!=a?a.next=d:this._deferredTasks=d},emit2:function(d,a){for(var e=this.willEmit(),b=e;null!=b;)b._listener(d,a),b.stayInList||b.dispose(),b=b._next;this.didEmit(e)},emit1:function(d){for(var a=this.willEmit(),
e=a;null!=e;)e._listener(d),e.stayInList||e.dispose(),e=e._next;this.didEmit(a)},emit0:function(){for(var d=this.willEmit(),a=d;null!=a;)a._listener(),a.stayInList||a.dispose(),a=a._next;this.didEmit(d)},disconnect:function(d){var a=this;this._head==i.SignalBase.DISPATCHING_SENTINEL?this.defer(function(){a.listRemove(d)}):this.listRemove(d)},connectImpl:function(d,a){var e=this,b=new i.SignalConnection(this,d);this._head==i.SignalBase.DISPATCHING_SENTINEL?this.defer(function(){e.listAdd(b,a)}):this.listAdd(b,
a);return b},__class__:i.SignalBase};i.Signal2=function(d){i.SignalBase.call(this,d)};i.Signal2.__name__=!0;i.Signal2.__super__=i.SignalBase;i.Signal2.prototype=v(i.SignalBase.prototype,{connect:function(d,a){null==a&&(a=!1);return this.connectImpl(d,a)},__class__:i.Signal2});i.Signal1=function(d){i.SignalBase.call(this,d)};i.Signal1.__name__=!0;i.Signal1.__super__=i.SignalBase;i.Signal1.prototype=v(i.SignalBase.prototype,{connect:function(d,a){null==a&&(a=!1);return this.connectImpl(d,a)},__class__:i.Signal1});
m={AnimatedFloat:function(d,a){i.Value.call(this,d,a)}};m.AnimatedFloat.__name__=!0;m.AnimatedFloat.__super__=i.Value;m.AnimatedFloat.prototype=v(i.Value.prototype,{set_behavior:function(d){this._behavior=d;this.update(0);return d},animateBy:function(d,a,e){this.set_behavior(new m.Tween(this._value,this._value+d,a,e))},animateTo:function(d,a,e){this.set_behavior(new m.Tween(this._value,d,a,e))},update:function(d){null!=this._behavior&&(i.Value.prototype.set__.call(this,this._behavior.update(d)),this._behavior.isComplete()&&
(this._behavior=null))},set__:function(d){this._behavior=null;return i.Value.prototype.set__.call(this,d)},__class__:m.AnimatedFloat});k=function(){};k.__name__=!0;k.init=function(){k._calledInit||(k._platform.init(),k._calledInit=!0)};l=function(){this._realDt=0};l.__name__=!0;l.__super__=t;l.prototype=v(t.prototype,{onUpdate:function(d){0<this._realDt&&(d=this._realDt,this._realDt=0);this.scale.update(d)},get_name:function(){return"SpeedAdjuster_6"},__class__:l});m.Behavior=function(){};m.Behavior.__name__=
!0;m.Behavior.prototype={__class__:m.Behavior};m.Ease=function(){};m.Ease.__name__=!0;m.Ease.linear=function(d){return d};m.Tween=function(d,a,e,b){this._from=d;this._to=a;this._duration=e;this.elapsed=0;this._easing=null!=b?b:m.Ease.linear};m.Tween.__name__=!0;m.Tween.__interfaces__=[m.Behavior];m.Tween.prototype={isComplete:function(){return this.elapsed>=this._duration},update:function(d){this.elapsed+=d;return this.elapsed>=this._duration?this._to:this._from+(this._to-this._from)*this._easing(this.elapsed/
this._duration)},__class__:m.Tween};h={AssetFormat:{__ename__:!0,__constructs__:"WEBP,JXR,PNG,JPG,GIF,MP3,M4A,OGG,WAV,Data".split(",")}};h.AssetFormat.WEBP=["WEBP",0];h.AssetFormat.WEBP.toString=f;h.AssetFormat.WEBP.__enum__=h.AssetFormat;h.AssetFormat.JXR=["JXR",1];h.AssetFormat.JXR.toString=f;h.AssetFormat.JXR.__enum__=h.AssetFormat;h.AssetFormat.PNG=["PNG",2];h.AssetFormat.PNG.toString=f;h.AssetFormat.PNG.__enum__=h.AssetFormat;h.AssetFormat.JPG=["JPG",3];h.AssetFormat.JPG.toString=f;h.AssetFormat.JPG.__enum__=
h.AssetFormat;h.AssetFormat.GIF=["GIF",4];h.AssetFormat.GIF.toString=f;h.AssetFormat.GIF.__enum__=h.AssetFormat;h.AssetFormat.MP3=["MP3",5];h.AssetFormat.MP3.toString=f;h.AssetFormat.MP3.__enum__=h.AssetFormat;h.AssetFormat.M4A=["M4A",6];h.AssetFormat.M4A.toString=f;h.AssetFormat.M4A.__enum__=h.AssetFormat;h.AssetFormat.OGG=["OGG",7];h.AssetFormat.OGG.toString=f;h.AssetFormat.OGG.__enum__=h.AssetFormat;h.AssetFormat.WAV=["WAV",8];h.AssetFormat.WAV.toString=f;h.AssetFormat.WAV.__enum__=h.AssetFormat;
h.AssetFormat.Data=["Data",9];h.AssetFormat.Data.toString=f;h.AssetFormat.Data.__enum__=h.AssetFormat;h.AssetEntry=function(d,a,e,b){this.name=d;this.url=a;this.format=e;this.bytes=b};h.AssetEntry.__name__=!0;h.AssetEntry.prototype={__class__:h.AssetEntry};h.AssetPack=function(){};h.AssetPack.__name__=!0;h.AssetPack.prototype={__class__:h.AssetPack};u=void 0;j=void 0;u=function(){};u.__name__=!0;u.__string_rec=function(d,a){if(null==d)return"null";if(5<=a.length)return"<...>";var e=typeof d;if("function"==
e&&(d.__name__||d.__ename__))e="object";switch(e){case "object":if(d instanceof Array){if(d.__enum__){if(2==d.length)return d[0];for(var e=d[0]+"(",a=a+"\t",b=2,c=d.length;b<c;)var n=b++,e=2!=n?e+(","+u.__string_rec(d[n],a)):e+u.__string_rec(d[n],a);return e+")"}b=d.length;e="[";a+="\t";for(c=0;c<b;)n=c++,e+=(0<n?",":"")+u.__string_rec(d[n],a);return e+"]"}try{c=d.toString}catch(f){return"???"}if(null!=c&&c!=Object.toString&&(e=d.toString(),"[object Object]"!=e))return e;c=null;e="{\n";a+="\t";b=
null!=d.hasOwnProperty;for(c in d)if(!b||d.hasOwnProperty(c))"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=e.length&&(e+=", \n"),e+=a+c+" : "+u.__string_rec(d[c],a));a=a.substring(1);return e+("\n"+a+"}");case "function":return"<function>";case "string":return d;default:return""+d}};u.__interfLoop=function(d,a){if(null==d)return!1;if(d==a)return!0;var e=d.__interfaces__;if(null!=e)for(var b=0,c=e.length;b<c;){var n=b++,n=e[n];if(n==a||u.__interfLoop(n,
a))return!0}return u.__interfLoop(d.__super__,a)};u.__instanceof=function(d,a){if(null==a)return!1;switch(a){case N:return(d|0)===d;case K:return"number"==typeof d;case L:return"boolean"==typeof d;case String:return"string"==typeof d;case O:return!0;default:if(null!=d){if("function"==typeof a){if(d instanceof a)return a==Array?null==d.__enum__:!0;if(u.__interfLoop(d.__class__,a))return!0}}else return!1;if(a==P&&null!=d.__name__)return!0;null;if(a==Q&&null!=d.__ename__)return!0;null;return d.__enum__==
a}};u.__cast=function(d,a){if(u.__instanceof(d,a))return d;throw"Cannot cast "+x.string(d)+" to "+x.string(a);};i.Strings=function(){};i.Strings.__name__=!0;i.Strings.getFileExtension=function(d){var a=d.lastIndexOf(".");return 0<a?q.substr(d,a+1,null):null};i.Strings.removeFileExtension=function(d){var a=d.lastIndexOf(".");return 0<a?q.substr(d,0,a):d};i.Strings.getUrlExtension=function(d){var a=d.lastIndexOf("?");0<=a&&(d=q.substr(d,0,a));a=d.lastIndexOf("/");0<=a&&(d=q.substr(d,a+1,null));return i.Strings.getFileExtension(d)};
i.Strings.joinPath=function(d,a){47!=d.charCodeAt(d.length-1)&&(d+="/");return d+a};i.Strings.withFields=function(d,a){var e=a.length;if(0<e){for(var d=d+(0<d.length?" [":"["),b=0;b<e;){0<b&&(d+=", ");var c=a[b],n=a[b+1];if(u.__instanceof(n,Error)){var f=n.stack;null!=f&&(n=f)}d+=c+"="+x.string(n);b+=2}d+="]"}return d};j=function(){};j.__name__=!0;h.Manifest=function(){this._entries=[]};h.Manifest.__name__=!0;h.Manifest.build=function(d,a){null==a&&(a=!0);var e=h.Manifest._buildManifest.get(d);if(null==
e){if(a)throw i.Strings.withFields("Missing asset pack",["name",d]);return null}return e.clone()};h.Manifest.inferFormat=function(d){d=i.Strings.getUrlExtension(d);if(null!=d)switch(d.toLowerCase()){case "gif":return h.AssetFormat.GIF;case "jpg":case "jpeg":return h.AssetFormat.JPG;case "jxr":return h.AssetFormat.JXR;case "png":return h.AssetFormat.PNG;case "webp":return h.AssetFormat.WEBP;case "m4a":return h.AssetFormat.M4A;case "mp3":return h.AssetFormat.MP3;case "ogg":return h.AssetFormat.OGG;
case "wav":return h.AssetFormat.WAV}else null;return h.AssetFormat.Data};h.Manifest.createBuildManifests=function(){var d=new p.StringMap;d.set("bootstrap",[{name:"tinyfont.png",md5:"32988b545c4243b364008800f359ea92",bytes:16702},{name:"tinyfont.fnt",md5:"6b1f975607029ae74049de5a34e1c816",bytes:22499},{name:"remiWalk.png",md5:"af5ddf9fb90ee12863e4e0b837ac284e",bytes:30194},{name:"remiWalk.json",md5:"561f11a97e4672c424ed6ddb5dd7f8b8",bytes:2528},{name:"box.png",md5:"3cc1b7e9fd3fea3e2b460eb6fbbba4ff",
bytes:7820},{name:"ball.png",md5:"025c34b8e67dbc2969adec7073614b22",bytes:2964}]);for(var a=new p.StringMap,e=d.keys();e.hasNext();){var b=e.next(),c=new h.Manifest;c.set_relativeBasePath("assets");for(var n=0,f=d.get(b);n<f.length;){var s=f[n];++n;var j=s.name,l=b+"/"+j+"?v="+x.string(s.md5),k=h.Manifest.inferFormat(j);k!=h.AssetFormat.Data&&(j=i.Strings.removeFileExtension(j));c.add(j,l,s.bytes,k)}a.set(b,c)}return a};h.Manifest.prototype={set_externalBasePath:function(d){this._externalBasePath=
d;null!=d&&null;return d},get_externalBasePath:function(){return this._externalBasePath},set_relativeBasePath:function(d){this._relativeBasePath=d;null!=d&&null;return d},get_relativeBasePath:function(){return this._relativeBasePath},getFullURL:function(d){var a=null!=this.get_externalBasePath()&&h.Manifest._supportsCrossOrigin?this.get_externalBasePath():this.get_relativeBasePath(),e=null!=this.get_externalBasePath()?this.get_externalBasePath():this.get_relativeBasePath();d.format==h.AssetFormat.Data&&
(e=a);return null!=e?i.Strings.joinPath(e,d.url):d.url},clone:function(){var d=new h.Manifest;d.set_relativeBasePath(this.get_relativeBasePath());d.set_externalBasePath(this.get_externalBasePath());d._entries=this._entries.slice();return d},iterator:function(){return q.iter(this._entries)},add:function(d,a,e,b){null==e&&(e=0);null==b&&(b=h.Manifest.inferFormat(a));d=new h.AssetEntry(d,a,b,e);this._entries.push(d);return d},__class__:h.Manifest};B={FpsDisplay:function(){this.reset()}};B.FpsDisplay.__name__=
!0;B.FpsDisplay.__super__=t;B.FpsDisplay.prototype=v(t.prototype,{reset:function(){this._fpsTime=this._fpsFrames=0},onUpdate:function(d){++this._fpsFrames;this._fpsTime+=d;if(1<this._fpsTime){var d="FPS: "+(100*(this._fpsFrames/this._fpsTime)|0)/100,a=this.owner._compMap.Sprite_1;null!=a?a.set_text(d):null;this.reset()}},get_name:function(){return"FpsDisplay_0"},__class__:B.FpsDisplay});c={BlendMode:{__ename__:!0,__constructs__:["Normal","Add","CopyExperimental"]}};c.BlendMode.Normal=["Normal",0];
c.BlendMode.Normal.toString=f;c.BlendMode.Normal.__enum__=c.BlendMode;c.BlendMode.Add=["Add",1];c.BlendMode.Add.toString=f;c.BlendMode.Add.__enum__=c.BlendMode;c.BlendMode.CopyExperimental=["CopyExperimental",2];c.BlendMode.CopyExperimental.toString=f;c.BlendMode.CopyExperimental.__enum__=c.BlendMode;r={Point:function(d,a){null==a&&(a=0);null==d&&(d=0);this.x=d;this.y=a}};r.Point.__name__=!0;r.Point.prototype={__class__:r.Point};c.Sprite=function(){this.blendMode=this.scissor=null;var d=this;this._flags=
11;this._localMatrix=new r.Matrix;var a=function(){d._flags|=12};this.x=new m.AnimatedFloat(0,a);this.y=new m.AnimatedFloat(0,a);this.rotation=new m.AnimatedFloat(0,a);this.scaleX=new m.AnimatedFloat(1,a);this.scaleY=new m.AnimatedFloat(1,a);this.anchorX=new m.AnimatedFloat(0,a);this.anchorY=new m.AnimatedFloat(0,a);this.alpha=new m.AnimatedFloat(1)};c.Sprite.__name__=!0;c.Sprite.hitTest=function(d,a,e){var b=d._compMap.Sprite_1;if(null!=b){if(3!=(b._flags&3))return null;b.getLocalMatrix().inverseTransform(a,
e,c.Sprite._scratchPoint)&&(a=c.Sprite._scratchPoint.x,e=c.Sprite._scratchPoint.y);var f=b.scissor;if(null!=f&&!f.contains(a,e))return null}d=c.Sprite.hitTestBackwards(d.firstChild,a,e);return null!=d?d:null!=b&&b.containsLocal(a,e)?b:null};c.Sprite.render=function(d,a){var e=d._compMap.Sprite_1;if(null!=e){if(e.isOutScreen())return;var b=e.alpha._value;if(0==(e._flags&1)||0>=b)return;a.save();1>b&&a.multiplyAlpha(b);null!=e.blendMode&&a.setBlendMode(e.blendMode);b=e.getLocalMatrix();a.transform(b.m00,
b.m10,b.m01,b.m11,b.m02,b.m12);b=e.scissor;null!=b&&a.applyScissor(b.x,b.y,b.width,b.height);e.draw(a)}b=d._compMap.Director_4;if(null!=b)for(var b=b.occludedScenes,f=0;f<b.length;){var n=b[f];++f;c.Sprite.render(n,a)}for(b=d.firstChild;null!=b;)f=b.next,c.Sprite.render(b,a),b=f;null!=e&&a.restore()};c.Sprite.hitTestBackwards=function(d,a,e){if(null!=d){var b=c.Sprite.hitTestBackwards(d.next,a,e);return null!=b?b:c.Sprite.hitTest(d,a,e)}return null};c.Sprite.__super__=t;c.Sprite.prototype=v(t.prototype,
{draw:function(){},onUpdate:function(d){this.x.update(d);this.y.update(d);this.rotation.update(d);this.scaleX.update(d);this.scaleY.update(d);this.alpha.update(d);this.anchorX.update(d);this.anchorY.update(d)},centerAnchor:function(){this.anchorX.set__(this.getNaturalWidth()/2);this.anchorY.set__(this.getNaturalHeight()/2);return this},getLocalMatrix:function(){0!=(this._flags&4)&&(this._flags&=-5,this._localMatrix.compose(this.x._value,this.y._value,this.scaleX._value,this.scaleY._value,3.141592653589793*
this.rotation._value/180),this._localMatrix.translate(-this.anchorX._value,-this.anchorY._value));return this._localMatrix},containsLocal:function(d,a){return 0<=d&&d<this.getNaturalWidth()&&0<=a&&a<this.getNaturalHeight()},getNaturalHeight:function(){return 0},getNaturalWidth:function(){return 0},isOutScreen:function(){return 0>this.x._value+this.getNaturalWidth()||this.x._value>k._platform.getStage().get_width()||0>this.y._value+this.getNaturalHeight()||this.y._value>k._platform.getStage().get_height()},
get_name:function(){return"Sprite_1"},__class__:c.Sprite});c.FillSprite=function(d,a,e){c.Sprite.call(this);this.color=d;this.width=new m.AnimatedFloat(a);this.height=new m.AnimatedFloat(e)};c.FillSprite.__name__=!0;c.FillSprite.__super__=c.Sprite;c.FillSprite.prototype=v(c.Sprite.prototype,{onUpdate:function(d){c.Sprite.prototype.onUpdate.call(this,d);this.width.update(d);this.height.update(d)},getNaturalHeight:function(){return this.height._value},getNaturalWidth:function(){return this.width._value},
draw:function(d){d.fillRect(this.color,0,0,this.width._value,this.height._value)},__class__:c.FillSprite});c.Glyph=function(d){this._kernings=null;this.xOffset=this.yOffset=this.xAdvance=0;this.page=null;this.x=this.y=this.width=this.height=0;this.charCode=d};c.Glyph.__name__=!0;c.Glyph.prototype={setKerning:function(d,a){null==this._kernings&&(this._kernings=new p.IntMap);this._kernings.set(d,a)},getKerning:function(d){return null!=this._kernings?this._kernings.get(d)|0:0},draw:function(d,a,e){0<
this.width&&d.drawSubImage(this.page,a+this.xOffset,e+this.yOffset,this.x,this.y,this.width,this.height)},__class__:c.Glyph};c.Font=function(d,a){this.name=a;this._glyphs=new p.IntMap;this._glyphs.set(c.Font.NEWLINE.charCode,c.Font.NEWLINE);for(var e=new c._Font.ConfigParser(d.getFile(a+".fnt")),b=new p.IntMap,f=a.lastIndexOf("/"),f=0<=f?q.substr(a,0,f+1):"",n=e.keywords();n.hasNext();)switch(n.next()){case "info":for(var h=e.pairs();h.hasNext();){var s=h.next();switch(s.key){case "size":this.size=
s.getInt()}}break;case "page":for(var h=0,j=null,k=e.pairs();k.hasNext();)switch(s=k.next(),s.key){case "id":h=s.getInt();break;case "file":j=s.getString()}b.set(h,d.getTexture(f+i.Strings.removeFileExtension(j)));break;case "char":h=null;for(j=e.pairs();j.hasNext();)switch(s=j.next(),s.key){case "id":h=new c.Glyph(s.getInt());break;case "x":h.x=s.getInt();break;case "y":h.y=s.getInt();break;case "width":h.width=s.getInt();break;case "height":h.height=s.getInt();break;case "page":h.page=b.get(s.getInt());
break;case "xoffset":h.xOffset=s.getInt();break;case "yoffset":h.yOffset=s.getInt();break;case "xadvance":h.xAdvance=s.getInt()}this._glyphs.set(h.charCode,h);break;case "kerning":h=null;j=-1;for(k=e.pairs();k.hasNext();)switch(s=k.next(),s.key){case "first":h=this._glyphs.get(s.getInt());break;case "second":j=s.getInt();break;case "amount":h.setKerning(j,s.getInt())}}};c.Font.__name__=!0;c.Font.prototype={layoutText:function(d,a,e){null==e&&(e=0);null==a&&(a=c.TextAlign.Left);return new c.TextLayout(this,
d,a,e)},__class__:c.Font};c.TextAlign={__ename__:!0,__constructs__:["Left","Center","Right"]};c.TextAlign.Left=["Left",0];c.TextAlign.Left.toString=f;c.TextAlign.Left.__enum__=c.TextAlign;c.TextAlign.Center=["Center",1];c.TextAlign.Center.toString=f;c.TextAlign.Center.__enum__=c.TextAlign;c.TextAlign.Right=["Right",2];c.TextAlign.Right.toString=f;c.TextAlign.Right.__enum__=c.TextAlign;c.TextLayout=function(a,g,e,b){this.lines=0;var f=this;this._font=a;this._glyphs=[];this._offsets=[];this.bounds=
new r.Rectangle;for(var n=[],h=g.length,i=0;i<h;){var j=i++,k=g.charCodeAt(j),k=a._glyphs.get(k);null!=k?this._glyphs.push(k):null}for(var g=-1,l=0,m=0,h=a._glyphs.get(10),i=function(){f.bounds.width=r.FMath.max(f.bounds.width,l);f.bounds.height+=m;n[f.lines]=l;m=l=0;++f.lines},j=0;j<this._glyphs.length;){k=this._glyphs[j];this._offsets[j]=l;var p=0<b&&l+k.width>b;p||k==h?(p&&(0<=g?(this._glyphs[g]=h,l=this._offsets[g],j=g):this._glyphs.splice(j,0,h)),g=-1,m=a.size,i()):(32==k.charCode&&(g=j),l+=
k.xAdvance,m=r.FMath.max(m,k.height+k.yOffset),j+1<this._glyphs.length&&(l+=k.getKerning(this._glyphs[j+1].charCode)));++j}i();for(var j=0,g=c.TextLayout.getAlignOffset(e,n[0],b),h=1.79769313486231E308,i=-1.79769313486231E308,q=p=0,t=this._glyphs.length;q<t;){k=this._glyphs[q];10==k.charCode&&(j+=a.size,++p,g=c.TextLayout.getAlignOffset(e,n[p],b));this._offsets[q]+=g;var u=j+k.yOffset,h=h<u?h:u,i=r.FMath.max(i,u+k.height);++q}this.bounds.x=c.TextLayout.getAlignOffset(e,this.bounds.width,b);this.bounds.y=
h;this.bounds.height=i-h};c.TextLayout.__name__=!0;c.TextLayout.getAlignOffset=function(a,g,e){switch(a[1]){case 0:return 0;case 2:return e-g;case 1:return(e-g)/2}};c.TextLayout.prototype={draw:function(a){for(var g=0,e=0,b=this._glyphs.length;e<b;){var c=this._glyphs[e];10==c.charCode?g+=this._font.size:c.draw(a,this._offsets[e],g);++e}},__class__:c.TextLayout};c._Font={};c._Font.ConfigParser=function(a){this._configText=a;this._keywordPattern=new z("([a-z]+)(.*)","");this._pairPattern=new z('([a-z]+)=("[^"]*"|[^\\s]+)',
"")};c._Font.ConfigParser.__name__=!0;c._Font.ConfigParser.advance=function(a,g){var e=g.matchedPos();return q.substr(a,e.pos+e.len,a.length)};c._Font.ConfigParser.prototype={pairs:function(){var a=this,g=this._pairText;return{next:function(){g=c._Font.ConfigParser.advance(g,a._pairPattern);return new c._Font.ConfigPair(a._pairPattern.matched(1),a._pairPattern.matched(2))},hasNext:function(){return a._pairPattern.match(g)}}},keywords:function(){var a=this,g=this._configText;return{next:function(){g=
c._Font.ConfigParser.advance(g,a._keywordPattern);a._pairText=a._keywordPattern.matched(2);return a._keywordPattern.matched(1)},hasNext:function(){return a._keywordPattern.match(g)}}},__class__:c._Font.ConfigParser};c._Font.ConfigPair=function(a,g){this.key=a;this._value=g};c._Font.ConfigPair.__name__=!0;c._Font.ConfigPair.prototype={getString:function(){return 34!=this._value.charCodeAt(0)?null:q.substr(this._value,1,this._value.length-2)},getInt:function(){return x.parseInt(this._value)},__class__:c._Font.ConfigPair};
c.Graphics=function(){};c.Graphics.__name__=!0;c.Graphics.prototype={__class__:c.Graphics};c.Orientation={__ename__:!0,__constructs__:["Portrait","Landscape"]};c.Orientation.Portrait=["Portrait",0];c.Orientation.Portrait.toString=f;c.Orientation.Portrait.__enum__=c.Orientation;c.Orientation.Landscape=["Landscape",1];c.Orientation.Landscape.toString=f;c.Orientation.Landscape.__enum__=c.Orientation;c.Stage=function(){};c.Stage.__name__=!0;c.Stage.prototype={__class__:c.Stage};c.TextSprite=function(a,
g){null==g&&(g="");this._layout=null;var e=this;c.Sprite.call(this);this._font=a;this._text=g;this._align=c.TextAlign.Left;this._flags|=32;this.wrapWidth=new m.AnimatedFloat(0,function(){e._flags|=32})};c.TextSprite.__name__=!0;c.TextSprite.__super__=c.Sprite;c.TextSprite.prototype=v(c.Sprite.prototype,{onUpdate:function(a){c.Sprite.prototype.onUpdate.call(this,a);this.wrapWidth.update(a)},updateLayout:function(){0!=(this._flags&32)&&(this._flags&=-33,this._layout=this._font.layoutText(this._text,
this._align,this.wrapWidth._value))},set_text:function(a){this._text=a;this._flags|=32;return a},containsLocal:function(a,g){this.updateLayout();return this._layout.bounds.contains(a,g)},getNaturalHeight:function(){this.updateLayout();return this._layout.lines*this._font.size},getNaturalWidth:function(){this.updateLayout();return 0<this.wrapWidth._value?this.wrapWidth._value:this._layout.bounds.width},draw:function(a){this.updateLayout();this._layout.draw(a,this._align)},__class__:c.TextSprite});
c.Texture=function(){};c.Texture.__name__=!0;c.camera={};c.camera.GCamera=function(a,g){this.canvas=a;this._bound=g};c.camera.GCamera.__name__=!0;c.camera.GCamera.__super__=t;c.camera.GCamera.prototype=v(t.prototype,{to:function(a,g,e,b){var c=a*e,f=g*e,h=k._platform.getStage().get_width()/2,i=k._platform.getStage().get_height()/2;c-this._bound.get_left()*e<h?c=this._bound.get_left()*e+h:this._bound.get_right()*e-c<h&&(c=this._bound.get_right()*e-h);f-this._bound.get_top()*e<i?f=this._bound.get_top()*
e+i:this._bound.get_bottom()*e-f<i&&(f=this._bound.get_bottom()*e-i);this.tgtx=0.5*k._platform.getStage().get_width()-c;this.tgty=0.5*k._platform.getStage().get_height()-f;for(f=this.canvas.firstChild;null!=f;)c=f.next,f=f.firstComponent,f.x.animateBy(this.tgtx,b),f.y.animateBy(this.tgty,b),f.scaleX.animateTo(e,b),f.scaleY.animateTo(e,b),f=c;this._lastX=a;this._lastY=g;this._lastZoomAmount=e},get_name:function(){return"GCamera_3"},__class__:c.camera.GCamera});c.tileSheet={};c.tileSheet.AnimSeqData=
function(a,g,e,b){null==b&&(b=!0);null==e&&(e=0);this.seqName=a;this.delay=0;0<e&&(this.delay=1/e);this.arFrames=g;this.loop=b};c.tileSheet.AnimSeqData.__name__=!0;c.tileSheet.AnimSeqData.prototype={__class__:c.tileSheet.AnimSeqData};c.tileSheet.AnimSprite=function(a){c.Sprite.call(this);this.fakeElapsed=0.0167;this.frameTimer=0;this.mSequences=[];this.texture=a};c.tileSheet.AnimSprite.__name__=!0;c.tileSheet.AnimSprite.__super__=c.Sprite;c.tileSheet.AnimSprite.prototype=v(c.Sprite.prototype,{getNaturalHeight:function(){return this.mAnimSheet.get_frameHeight(this.curIndex)},
getNaturalWidth:function(){return this.mAnimSheet.get_frameWidth(this.curIndex)},draw:function(a){if(!this.isOutScreen()){var g=this.mAnimSheet.getFrameData(this.curIndex);a.drawSubImage(this.texture,g.offX,g.offY,g.x,g.y,g.w,g.h)}},drawFrameInternal:function(){this.dirty=!1},advanceFrame:function(){(this.curFrame|0)==this.curAnim.arFrames.length-1?this.curAnim.loop?this.curFrame=0:this.donePlaying=!0:++this.curFrame;this.curIndex=this.curAnim.arFrames[this.curFrame];this.dirty=!0},updateAnimation:function(){if(!this.isOutScreen()){if(null!=
this.curAnim&&0<this.curAnim.delay&&!this.donePlaying)for(this.frameTimer+=this.fakeElapsed;this.frameTimer>this.curAnim.delay;)this.frameTimer-=this.curAnim.delay,this.advanceFrame();this.dirty&&this.drawFrameInternal()}},onUpdate:function(a){c.Sprite.prototype.onUpdate.call(this,a);this.updateAnimation()},drawFrame:function(a){null==a&&(a=!1);(a||this.dirty)&&this.drawFrameInternal()},play:function(a){null==a?(this.donePlaying=!1,this.dirty=!0,this.frameTimer=0):(this.frameTimer=this.curIndex=this.curFrame=
0,this.curAnim=this.findSequenceByName(a),null!=this.curAnim&&(this.curIndex=this.curAnim.arFrames[0],this.donePlaying=!1,this.dirty=!0,1==this.curAnim.arFrames.length&&(this.donePlaying=!0)))},findSequenceByName:function(a){for(var g,b=0;b<this.mSequences.length;){g=u.__cast(this.mSequences[b],c.tileSheet.AnimSeqData);if(g.seqName==a)return g;b++}return null},addSequence:function(a,g,b,o){null==o&&(o=!0);null==b&&(b=0);this.mSequences.push(new c.tileSheet.AnimSeqData(a,g,b,o))},set_frame:function(a){this.curFrame=
a;this.curIndex=null!=this.curAnim?this.curAnim.arFrames[this.curFrame]:a;this.dirty=!0;return a},initialize:function(a){null!=a&&(this.mAnimSheet=a,this.curAnim=null,this.set_frame(0),this.drawFrame(!0))},__class__:c.tileSheet.AnimSprite});c.tileSheet.AnimTextureSheet=function(){this.mTextureRegions=[];this.mFrameRect=new r.Rectangle;this.mFrameOffsets=[]};c.tileSheet.AnimTextureSheet.__name__=!0;c.tileSheet.AnimTextureSheet.prototype={getFrameData:function(a){return this.arFrameData[a]},init:function(a){this.arFrameData=
a;for(var g,b,c=0;c<a.length;)g=new r.Rectangle,g.x=a[c].x,g.y=a[c].y,g.width=a[c].w,g.height=a[c].h,this.mTextureRegions.push(g),b=new r.Point,b.x=a[c].offX,b.y=a[c].offY,this.mFrameOffsets.push(b),this.mFrameRect.width=Math.max(this.mFrameRect.width,g.width+b.x),this.mFrameRect.height=Math.max(this.mFrameRect.height,g.height+b.y),c++},get_frameHeight:function(a){return this.mTextureRegions[a].height+this.mFrameOffsets[a].y},get_frameWidth:function(a){return this.mTextureRegions[a].width+this.mFrameOffsets[a].x},
__class__:c.tileSheet.AnimTextureSheet};c.tileSheet.TileSheetHelper=function(){};c.tileSheet.TileSheetHelper.__name__=!0;c.tileSheet.TileSheetHelper.__super__=t;c.tileSheet.TileSheetHelper.prototype=v(t.prototype,{populateFrameArray:function(a,g){for(var b,c,f,h=0,i=A.fields(g);h<i.length;)b=i[h],++h,c=b.substring(0,b.lastIndexOf(".png")),b=A.field(g,b),f=b.frame,f.id=c,f.offX=0,f.offY=0,b.trimmed&&(f.offX=b.spriteSourceSize.x,f.offY=b.spriteSourceSize.y),a.push(f)},onShort:function(a,g){var b=a.id.toLowerCase(),
c=g.id.toLowerCase();return b<c?-1:b>c?1:0},prepareAnimTexture:function(a){var g=y.parse(a),a=[];this.populateFrameArray(a,g.frames);a.sort(C(this,this.onShort));g=new c.tileSheet.AnimTextureSheet;g.init(a);return g},get_name:function(){return"TileSheetHelper_2"},__class__:c.tileSheet.TileSheetHelper});a={Key:{__ename__:!0,__constructs__:"A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,Number0,Number1,Number2,Number3,Number4,Number5,Number6,Number7,Number8,Number9,Numpad0,Numpad1,Numpad2,Numpad3,Numpad4,Numpad5,Numpad6,Numpad7,Numpad8,Numpad9,NumpadAdd,NumpadDecimal,NumpadDivide,NumpadEnter,NumpadMultiply,NumpadSubtract,F1,F2,F3,F4,F5,F6,F7,F8,F9,F10,F11,F12,F13,F14,F15,Left,Up,Right,Down,Alt,Backquote,Backslash,Backspace,CapsLock,Comma,Command,Control,Delete,End,Enter,Equals,Escape,Home,Insert,LeftBracket,Minus,PageDown,PageUp,Period,Quote,RightBracket,Semicolon,Shift,Slash,Space,Tab,Menu,Search,Unknown".split(",")}};
a.Key.A=["A",0];a.Key.A.toString=f;a.Key.A.__enum__=a.Key;a.Key.B=["B",1];a.Key.B.toString=f;a.Key.B.__enum__=a.Key;a.Key.C=["C",2];a.Key.C.toString=f;a.Key.C.__enum__=a.Key;a.Key.D=["D",3];a.Key.D.toString=f;a.Key.D.__enum__=a.Key;a.Key.E=["E",4];a.Key.E.toString=f;a.Key.E.__enum__=a.Key;a.Key.F=["F",5];a.Key.F.toString=f;a.Key.F.__enum__=a.Key;a.Key.G=["G",6];a.Key.G.toString=f;a.Key.G.__enum__=a.Key;a.Key.H=["H",7];a.Key.H.toString=f;a.Key.H.__enum__=a.Key;a.Key.I=["I",8];a.Key.I.toString=f;a.Key.I.__enum__=
a.Key;a.Key.J=["J",9];a.Key.J.toString=f;a.Key.J.__enum__=a.Key;a.Key.K=["K",10];a.Key.K.toString=f;a.Key.K.__enum__=a.Key;a.Key.L=["L",11];a.Key.L.toString=f;a.Key.L.__enum__=a.Key;a.Key.M=["M",12];a.Key.M.toString=f;a.Key.M.__enum__=a.Key;a.Key.N=["N",13];a.Key.N.toString=f;a.Key.N.__enum__=a.Key;a.Key.O=["O",14];a.Key.O.toString=f;a.Key.O.__enum__=a.Key;a.Key.P=["P",15];a.Key.P.toString=f;a.Key.P.__enum__=a.Key;a.Key.Q=["Q",16];a.Key.Q.toString=f;a.Key.Q.__enum__=a.Key;a.Key.R=["R",17];a.Key.R.toString=
f;a.Key.R.__enum__=a.Key;a.Key.S=["S",18];a.Key.S.toString=f;a.Key.S.__enum__=a.Key;a.Key.T=["T",19];a.Key.T.toString=f;a.Key.T.__enum__=a.Key;a.Key.U=["U",20];a.Key.U.toString=f;a.Key.U.__enum__=a.Key;a.Key.V=["V",21];a.Key.V.toString=f;a.Key.V.__enum__=a.Key;a.Key.W=["W",22];a.Key.W.toString=f;a.Key.W.__enum__=a.Key;a.Key.X=["X",23];a.Key.X.toString=f;a.Key.X.__enum__=a.Key;a.Key.Y=["Y",24];a.Key.Y.toString=f;a.Key.Y.__enum__=a.Key;a.Key.Z=["Z",25];a.Key.Z.toString=f;a.Key.Z.__enum__=a.Key;a.Key.Number0=
["Number0",26];a.Key.Number0.toString=f;a.Key.Number0.__enum__=a.Key;a.Key.Number1=["Number1",27];a.Key.Number1.toString=f;a.Key.Number1.__enum__=a.Key;a.Key.Number2=["Number2",28];a.Key.Number2.toString=f;a.Key.Number2.__enum__=a.Key;a.Key.Number3=["Number3",29];a.Key.Number3.toString=f;a.Key.Number3.__enum__=a.Key;a.Key.Number4=["Number4",30];a.Key.Number4.toString=f;a.Key.Number4.__enum__=a.Key;a.Key.Number5=["Number5",31];a.Key.Number5.toString=f;a.Key.Number5.__enum__=a.Key;a.Key.Number6=["Number6",
32];a.Key.Number6.toString=f;a.Key.Number6.__enum__=a.Key;a.Key.Number7=["Number7",33];a.Key.Number7.toString=f;a.Key.Number7.__enum__=a.Key;a.Key.Number8=["Number8",34];a.Key.Number8.toString=f;a.Key.Number8.__enum__=a.Key;a.Key.Number9=["Number9",35];a.Key.Number9.toString=f;a.Key.Number9.__enum__=a.Key;a.Key.Numpad0=["Numpad0",36];a.Key.Numpad0.toString=f;a.Key.Numpad0.__enum__=a.Key;a.Key.Numpad1=["Numpad1",37];a.Key.Numpad1.toString=f;a.Key.Numpad1.__enum__=a.Key;a.Key.Numpad2=["Numpad2",38];
a.Key.Numpad2.toString=f;a.Key.Numpad2.__enum__=a.Key;a.Key.Numpad3=["Numpad3",39];a.Key.Numpad3.toString=f;a.Key.Numpad3.__enum__=a.Key;a.Key.Numpad4=["Numpad4",40];a.Key.Numpad4.toString=f;a.Key.Numpad4.__enum__=a.Key;a.Key.Numpad5=["Numpad5",41];a.Key.Numpad5.toString=f;a.Key.Numpad5.__enum__=a.Key;a.Key.Numpad6=["Numpad6",42];a.Key.Numpad6.toString=f;a.Key.Numpad6.__enum__=a.Key;a.Key.Numpad7=["Numpad7",43];a.Key.Numpad7.toString=f;a.Key.Numpad7.__enum__=a.Key;a.Key.Numpad8=["Numpad8",44];a.Key.Numpad8.toString=
f;a.Key.Numpad8.__enum__=a.Key;a.Key.Numpad9=["Numpad9",45];a.Key.Numpad9.toString=f;a.Key.Numpad9.__enum__=a.Key;a.Key.NumpadAdd=["NumpadAdd",46];a.Key.NumpadAdd.toString=f;a.Key.NumpadAdd.__enum__=a.Key;a.Key.NumpadDecimal=["NumpadDecimal",47];a.Key.NumpadDecimal.toString=f;a.Key.NumpadDecimal.__enum__=a.Key;a.Key.NumpadDivide=["NumpadDivide",48];a.Key.NumpadDivide.toString=f;a.Key.NumpadDivide.__enum__=a.Key;a.Key.NumpadEnter=["NumpadEnter",49];a.Key.NumpadEnter.toString=f;a.Key.NumpadEnter.__enum__=
a.Key;a.Key.NumpadMultiply=["NumpadMultiply",50];a.Key.NumpadMultiply.toString=f;a.Key.NumpadMultiply.__enum__=a.Key;a.Key.NumpadSubtract=["NumpadSubtract",51];a.Key.NumpadSubtract.toString=f;a.Key.NumpadSubtract.__enum__=a.Key;a.Key.F1=["F1",52];a.Key.F1.toString=f;a.Key.F1.__enum__=a.Key;a.Key.F2=["F2",53];a.Key.F2.toString=f;a.Key.F2.__enum__=a.Key;a.Key.F3=["F3",54];a.Key.F3.toString=f;a.Key.F3.__enum__=a.Key;a.Key.F4=["F4",55];a.Key.F4.toString=f;a.Key.F4.__enum__=a.Key;a.Key.F5=["F5",56];a.Key.F5.toString=
f;a.Key.F5.__enum__=a.Key;a.Key.F6=["F6",57];a.Key.F6.toString=f;a.Key.F6.__enum__=a.Key;a.Key.F7=["F7",58];a.Key.F7.toString=f;a.Key.F7.__enum__=a.Key;a.Key.F8=["F8",59];a.Key.F8.toString=f;a.Key.F8.__enum__=a.Key;a.Key.F9=["F9",60];a.Key.F9.toString=f;a.Key.F9.__enum__=a.Key;a.Key.F10=["F10",61];a.Key.F10.toString=f;a.Key.F10.__enum__=a.Key;a.Key.F11=["F11",62];a.Key.F11.toString=f;a.Key.F11.__enum__=a.Key;a.Key.F12=["F12",63];a.Key.F12.toString=f;a.Key.F12.__enum__=a.Key;a.Key.F13=["F13",64];a.Key.F13.toString=
f;a.Key.F13.__enum__=a.Key;a.Key.F14=["F14",65];a.Key.F14.toString=f;a.Key.F14.__enum__=a.Key;a.Key.F15=["F15",66];a.Key.F15.toString=f;a.Key.F15.__enum__=a.Key;a.Key.Left=["Left",67];a.Key.Left.toString=f;a.Key.Left.__enum__=a.Key;a.Key.Up=["Up",68];a.Key.Up.toString=f;a.Key.Up.__enum__=a.Key;a.Key.Right=["Right",69];a.Key.Right.toString=f;a.Key.Right.__enum__=a.Key;a.Key.Down=["Down",70];a.Key.Down.toString=f;a.Key.Down.__enum__=a.Key;a.Key.Alt=["Alt",71];a.Key.Alt.toString=f;a.Key.Alt.__enum__=
a.Key;a.Key.Backquote=["Backquote",72];a.Key.Backquote.toString=f;a.Key.Backquote.__enum__=a.Key;a.Key.Backslash=["Backslash",73];a.Key.Backslash.toString=f;a.Key.Backslash.__enum__=a.Key;a.Key.Backspace=["Backspace",74];a.Key.Backspace.toString=f;a.Key.Backspace.__enum__=a.Key;a.Key.CapsLock=["CapsLock",75];a.Key.CapsLock.toString=f;a.Key.CapsLock.__enum__=a.Key;a.Key.Comma=["Comma",76];a.Key.Comma.toString=f;a.Key.Comma.__enum__=a.Key;a.Key.Command=["Command",77];a.Key.Command.toString=f;a.Key.Command.__enum__=
a.Key;a.Key.Control=["Control",78];a.Key.Control.toString=f;a.Key.Control.__enum__=a.Key;a.Key.Delete=["Delete",79];a.Key.Delete.toString=f;a.Key.Delete.__enum__=a.Key;a.Key.End=["End",80];a.Key.End.toString=f;a.Key.End.__enum__=a.Key;a.Key.Enter=["Enter",81];a.Key.Enter.toString=f;a.Key.Enter.__enum__=a.Key;a.Key.Equals=["Equals",82];a.Key.Equals.toString=f;a.Key.Equals.__enum__=a.Key;a.Key.Escape=["Escape",83];a.Key.Escape.toString=f;a.Key.Escape.__enum__=a.Key;a.Key.Home=["Home",84];a.Key.Home.toString=
f;a.Key.Home.__enum__=a.Key;a.Key.Insert=["Insert",85];a.Key.Insert.toString=f;a.Key.Insert.__enum__=a.Key;a.Key.LeftBracket=["LeftBracket",86];a.Key.LeftBracket.toString=f;a.Key.LeftBracket.__enum__=a.Key;a.Key.Minus=["Minus",87];a.Key.Minus.toString=f;a.Key.Minus.__enum__=a.Key;a.Key.PageDown=["PageDown",88];a.Key.PageDown.toString=f;a.Key.PageDown.__enum__=a.Key;a.Key.PageUp=["PageUp",89];a.Key.PageUp.toString=f;a.Key.PageUp.__enum__=a.Key;a.Key.Period=["Period",90];a.Key.Period.toString=f;a.Key.Period.__enum__=
a.Key;a.Key.Quote=["Quote",91];a.Key.Quote.toString=f;a.Key.Quote.__enum__=a.Key;a.Key.RightBracket=["RightBracket",92];a.Key.RightBracket.toString=f;a.Key.RightBracket.__enum__=a.Key;a.Key.Semicolon=["Semicolon",93];a.Key.Semicolon.toString=f;a.Key.Semicolon.__enum__=a.Key;a.Key.Shift=["Shift",94];a.Key.Shift.toString=f;a.Key.Shift.__enum__=a.Key;a.Key.Slash=["Slash",95];a.Key.Slash.toString=f;a.Key.Slash.__enum__=a.Key;a.Key.Space=["Space",96];a.Key.Space.toString=f;a.Key.Space.__enum__=a.Key;a.Key.Tab=
["Tab",97];a.Key.Tab.toString=f;a.Key.Tab.__enum__=a.Key;a.Key.Menu=["Menu",98];a.Key.Menu.toString=f;a.Key.Menu.__enum__=a.Key;a.Key.Search=["Search",99];a.Key.Search.toString=f;a.Key.Search.__enum__=a.Key;a.Key.Unknown=function(d){d=["Unknown",100,d];d.__enum__=a.Key;d.toString=f;return d};a.Keyboard=function(){};a.Keyboard.__name__=!0;a.KeyboardEvent=function(){this.init(0,null)};a.KeyboardEvent.__name__=!0;a.KeyboardEvent.prototype={init:function(a,g){this.id=a;this.key=g},__class__:a.KeyboardEvent};
a.Mouse=function(){};a.Mouse.__name__=!0;a.MouseButton={__ename__:!0,__constructs__:["Left","Middle","Right","Unknown"]};a.MouseButton.Left=["Left",0];a.MouseButton.Left.toString=f;a.MouseButton.Left.__enum__=a.MouseButton;a.MouseButton.Middle=["Middle",1];a.MouseButton.Middle.toString=f;a.MouseButton.Middle.__enum__=a.MouseButton;a.MouseButton.Right=["Right",2];a.MouseButton.Right.toString=f;a.MouseButton.Right.__enum__=a.MouseButton;a.MouseButton.Unknown=function(d){d=["Unknown",3,d];d.__enum__=
a.MouseButton;d.toString=f;return d};a.MouseCursor={__ename__:!0,__constructs__:["Default","Button","None"]};a.MouseCursor.Default=["Default",0];a.MouseCursor.Default.toString=f;a.MouseCursor.Default.__enum__=a.MouseCursor;a.MouseCursor.Button=["Button",1];a.MouseCursor.Button.toString=f;a.MouseCursor.Button.__enum__=a.MouseCursor;a.MouseCursor.None=["None",2];a.MouseCursor.None.toString=f;a.MouseCursor.None.__enum__=a.MouseCursor;a.MouseEvent=function(){this.init(0,0,0,null)};a.MouseEvent.__name__=
!0;a.MouseEvent.prototype={init:function(a,g,b,c){this.id=a;this.viewX=g;this.viewY=b;this.button=c},__class__:a.MouseEvent};a.Pointer=function(){};a.Pointer.__name__=!0;a.EventSource={__ename__:!0,__constructs__:["Mouse","Touch"]};a.EventSource.Mouse=function(d){d=["Mouse",0,d];d.__enum__=a.EventSource;d.toString=f;return d};a.EventSource.Touch=function(d){d=["Touch",1,d];d.__enum__=a.EventSource;d.toString=f;return d};a.PointerEvent=function(){this.init(0,0,0,null,null)};a.PointerEvent.__name__=
!0;a.PointerEvent.prototype={init:function(a,g,b,c,f){this.id=a;this.viewX=g;this.viewY=b;this.hit=c;this.source=f;this._stopped=!1},__class__:a.PointerEvent};a.Touch=function(){};a.Touch.__name__=!0;a.TouchPoint=function(d){this.id=d;this._source=a.EventSource.Touch(this)};a.TouchPoint.__name__=!0;a.TouchPoint.prototype={init:function(a,g){this.viewX=a;this.viewY=g},__class__:a.TouchPoint};r.FMath=function(){};r.FMath.__name__=!0;r.FMath.max=function(a,g){return a>g?a:g};r.Matrix=function(){this.identity()};
r.Matrix.__name__=!0;r.Matrix.prototype={inverseTransform:function(a,g,b){var c=this.determinant();if(0==c)return!1;a-=this.m02;g-=this.m12;b.x=(a*this.m11-g*this.m01)/c;b.y=(g*this.m00-a*this.m10)/c;return!0},determinant:function(){return this.m00*this.m11-this.m01*this.m10},translate:function(a,g){this.m02+=this.m00*a+this.m01*g;this.m12+=this.m11*g+this.m10*a},compose:function(a,g,b,c,f){var h=Math.sin(f),f=Math.cos(f);this.set(f*b,h*b,-h*c,f*c,a,g)},identity:function(){this.set(1,0,0,1,0,0)},
set:function(a,b,e,c,f,h){this.m00=a;this.m01=e;this.m02=f;this.m10=b;this.m11=c;this.m12=h},__class__:r.Matrix};r.Rectangle=function(a,b,e,c){null==c&&(c=0);null==e&&(e=0);null==b&&(b=0);null==a&&(a=0);this.set(a,b,e,c)};r.Rectangle.__name__=!0;r.Rectangle.prototype={get_bottom:function(){return this.y+this.height},get_top:function(){return this.y},get_right:function(){return this.x+this.width},get_left:function(){return this.x},contains:function(a,b){a-=this.x;b-=this.y;return 0<=a&&0<=b&&a<=this.width&&
b<=this.height},set:function(a,b,e,c){this.x=a;this.y=b;this.width=e;this.height=c},__class__:r.Rectangle};b.BasicAssetPackLoader=function(a,g){var e=this;this._platform=a;this.promise=new i.Promise;this._bytesLoaded=new p.StringMap;this._pack=new b._BasicAssetPackLoader.BasicAssetPack(g);var c=E.array(g);if(0==c.length)this.handleSuccess();else{for(var f=new p.StringMap,h=0;h<c.length;){var j=c[h];++h;var k=f.get(j.name);null==k&&(k=[],f.set(j.name,k));k.push(j)}this._assetsRemaining=E.count(f);
for(c=function(){return function(a){return function(){return function(){return a.iterator()}}()}}()(f)();c.hasNext();)k=c.next(),k=[k],this.pickBestEntry(k[0],function(a){return function(d){if(null!=d){var c=g.getFullURL(d);try{e.loadEntry(c,d)}catch(f){e.handleError(d,"Unexpected error: "+x.string(f))}c=e.promise;c.set_total(c._total+d.bytes)}else d=a[0][0],b.BasicAssetPackLoader.isAudio(d.format)?e.handleLoad(d,b.DummySound.getInstance()):e.handleError(d,"Could not find a supported format to load")}}(k))}};
b.BasicAssetPackLoader.__name__=!0;b.BasicAssetPackLoader.isAudio=function(a){switch(a[1]){case 5:case 6:case 7:case 8:return!0;default:return!1}};b.BasicAssetPackLoader.prototype={handleTextureError:function(a){this.handleError(a,"Failed to create texture. Is the GPU context unavailable?")},handleError:function(a,b){this.promise.error.emit1(i.Strings.withFields(b,["url",a.url]))},handleSuccess:function(){this.promise.set_result(this._pack)},handleProgress:function(a,b){this._bytesLoaded.set(a.name,
b);for(var e=0,c=function(a){return function(){return a.iterator()}}(this._bytesLoaded)();c.hasNext();)var f=c.next(),e=e+f;this.promise.set_progress(e)},handleLoad:function(a,b){this.handleProgress(a,a.bytes);var e=a.name;switch(a.format[1]){case 0:case 1:case 2:case 3:case 4:this._pack.textures.set(e,b);break;case 5:case 6:case 7:case 8:this._pack.sounds.set(e,b);break;case 9:this._pack.files.set(e,b)}this._assetsRemaining-=1;0>=this._assetsRemaining&&this.handleSuccess()},getAssetFormats:function(){null},
loadEntry:function(){null},pickBestEntry:function(a,b){this.getAssetFormats(function(e){for(var c=0;c<e.length;){var f=e[c];++c;for(var h=0;h<a.length;){var i=a[h];++h;if(i.format==f){b(i);return}}}b(null)})},__class__:b.BasicAssetPackLoader};b._BasicAssetPackLoader={};b._BasicAssetPackLoader.BasicAssetPack=function(a){this._manifest=a;this.textures=new p.StringMap;this.sounds=new p.StringMap;this.files=new p.StringMap};b._BasicAssetPackLoader.BasicAssetPack.__name__=!0;b._BasicAssetPackLoader.BasicAssetPack.__interfaces__=
[h.AssetPack];b._BasicAssetPackLoader.BasicAssetPack.prototype={getFile:function(a,b){null==b&&(b=!0);var e=this.files.get(a);if(null==e&&b)throw i.Strings.withFields("Missing file",["name",a]);return e},getTexture:function(a,b){null==b&&(b=!0);var e=this.textures.get(a);if(null==e&&b)throw i.Strings.withFields("Missing texture",["name",a]);return e},__class__:b._BasicAssetPackLoader.BasicAssetPack};b.BasicKeyboard=function(){this.down=new i.Signal1;this.up=new i.Signal1;this.backButton=new i.Signal0;
this._keyStates=new p.IntMap};b.BasicKeyboard.__name__=!0;b.BasicKeyboard.__interfaces__=[a.Keyboard];b.BasicKeyboard.prototype={submitUp:function(a){this._keyStates.exists(a)&&(this._keyStates.remove(a),b.BasicKeyboard._sharedEvent.init(b.BasicKeyboard._sharedEvent.id+1,b.KeyCodes.toKey(a)),this.up.emit1(b.BasicKeyboard._sharedEvent))},submitDown:function(a){if(16777238==a)return null!=this.backButton._head?(this.backButton.emit0(),!0):!1;this._keyStates.exists(a)||(this._keyStates.set(a,!0),b.BasicKeyboard._sharedEvent.init(b.BasicKeyboard._sharedEvent.id+
1,b.KeyCodes.toKey(a)),this.down.emit1(b.BasicKeyboard._sharedEvent));return!0},__class__:b.BasicKeyboard};b.BasicMouse=function(d){this._pointer=d;this._source=a.EventSource.Mouse(b.BasicMouse._sharedEvent);this.down=new i.Signal1;this.move=new i.Signal1;this.up=new i.Signal1;this.scroll=new i.Signal1;this._y=this._x=0;this._cursor=a.MouseCursor.Default;this._buttonStates=new p.IntMap};b.BasicMouse.__name__=!0;b.BasicMouse.__interfaces__=[a.Mouse];b.BasicMouse.prototype={prepare:function(a,g,e){this._x=
a;this._y=g;b.BasicMouse._sharedEvent.init(b.BasicMouse._sharedEvent.id+1,a,g,e)},submitScroll:function(a,b,e){this._x=a;this._y=b;if(null==this.scroll._head)return!1;this.scroll.emit1(e);return!0},submitUp:function(a,g,e){this._buttonStates.exists(e)&&(this._buttonStates.remove(e),this.prepare(a,g,b.MouseCodes.toButton(e)),this._pointer.submitUp(a,g,this._source),this.up.emit1(b.BasicMouse._sharedEvent))},submitMove:function(a,g){this.prepare(a,g,null);this._pointer.submitMove(a,g,this._source);
this.move.emit1(b.BasicMouse._sharedEvent)},submitDown:function(a,g,e){this._buttonStates.exists(e)||(this._buttonStates.set(e,!0),this.prepare(a,g,b.MouseCodes.toButton(e)),this._pointer.submitDown(a,g,this._source),this.down.emit1(b.BasicMouse._sharedEvent))},__class__:b.BasicMouse};b.BasicPointer=function(a,b,e){null==e&&(e=!1);null==b&&(b=0);null==a&&(a=0);this.down=new i.Signal1;this.move=new i.Signal1;this.up=new i.Signal1;this._x=a;this._y=b;this._isDown=e};b.BasicPointer.__name__=!0;b.BasicPointer.__interfaces__=
[a.Pointer];b.BasicPointer.prototype={prepare:function(a,g,e,c){this._x=a;this._y=g;b.BasicPointer._sharedEvent.init(b.BasicPointer._sharedEvent.id+1,a,g,e,c)},submitUp:function(a,g,e){if(this._isDown){this._isDown=!1;var f=[],h=c.Sprite.hitTest(k.root,a,g);if(null!=h){var i=h.owner;do{var j=i._compMap.Sprite_1;null!=j&&f.push(j);i=i.parent}while(null!=i)}this.prepare(a,g,h,e);for(a=0;a<f.length;)if(j=f[a],++a,j=j._pointerUp,null!=j&&(j.emit1(b.BasicPointer._sharedEvent),b.BasicPointer._sharedEvent._stopped))return;
this.up.emit1(b.BasicPointer._sharedEvent)}},submitMove:function(a,g,e){var f=[],h=c.Sprite.hitTest(k.root,a,g);if(null!=h){var i=h.owner;do{var j=i._compMap.Sprite_1;null!=j&&f.push(j);i=i.parent}while(null!=i)}this.prepare(a,g,h,e);for(a=0;a<f.length;)if(j=f[a],++a,j=j._pointerMove,null!=j&&(j.emit1(b.BasicPointer._sharedEvent),b.BasicPointer._sharedEvent._stopped))return;this.move.emit1(b.BasicPointer._sharedEvent)},submitDown:function(a,g,e){if(!this._isDown){this._isDown=!0;var f=[],h=c.Sprite.hitTest(k.root,
a,g);if(null!=h){var i=h.owner;do{var j=i._compMap.Sprite_1;null!=j&&f.push(j);i=i.parent}while(null!=i)}this.prepare(a,g,h,e);for(a=0;a<f.length;)if(j=f[a],++a,j=j._pointerDown,null!=j&&(j.emit1(b.BasicPointer._sharedEvent),b.BasicPointer._sharedEvent._stopped))return;this.down.emit1(b.BasicPointer._sharedEvent)}},__class__:b.BasicPointer};b.BasicTouch=function(a,b){null==b&&(b=4);this._pointer=a;this._maxPoints=b;this._pointMap=new p.IntMap;this._points=[];this.down=new i.Signal1;this.move=new i.Signal1;
this.up=new i.Signal1};b.BasicTouch.__name__=!0;b.BasicTouch.__interfaces__=[a.Touch];b.BasicTouch.prototype={submitUp:function(a,b,e){var c=this._pointMap.get(a);null!=c&&(c.init(b,e),this._pointMap.remove(a),q.remove(this._points,c),this._pointerTouch==c&&(this._pointerTouch=null,this._pointer.submitUp(b,e,c._source)),this.up.emit1(c))},submitMove:function(a,b,e){a=this._pointMap.get(a);null!=a&&(a.init(b,e),this._pointerTouch==a&&this._pointer.submitMove(b,e,a._source),this.move.emit1(a))},submitDown:function(d,
b,e){if(!this._pointMap.exists(d)){var c=new a.TouchPoint(d);c.init(b,e);this._pointMap.set(d,c);this._points.push(c);null==this._pointerTouch&&(this._pointerTouch=c,this._pointer.submitDown(b,e,c._source));this.down.emit1(c)}},__class__:b.BasicTouch};l={Sound:function(){}};l.Sound.__name__=!0;b.DummySound=function(){this._playback=new b.DummyPlayback(this)};b.DummySound.__name__=!0;b.DummySound.__interfaces__=[l.Sound];b.DummySound.getInstance=function(){null==b.DummySound._instance&&(b.DummySound._instance=
new b.DummySound);return b.DummySound._instance};b.DummySound.prototype={__class__:b.DummySound};l.Playback=function(){};l.Playback.__name__=!0;l.Playback.__interfaces__=[i.Disposable];b.DummyPlayback=function(a){this._sound=a;this.volume=new m.AnimatedFloat(0)};b.DummyPlayback.__name__=!0;b.DummyPlayback.__interfaces__=[l.Playback];b.DummyPlayback.prototype={__class__:b.DummyPlayback};b.DummyTouch=function(){this.down=new i.Signal1;this.move=new i.Signal1;this.up=new i.Signal1};b.DummyTouch.__name__=
!0;b.DummyTouch.__interfaces__=[a.Touch];b.DummyTouch.prototype={__class__:b.DummyTouch};b.EventGroup=function(){this._entries=[]};b.EventGroup.__name__=!0;b.EventGroup.__interfaces__=[i.Disposable];b.EventGroup.prototype={dispose:function(){for(var a=0,b=this._entries;a<b.length;){var e=b[a];++a;e.dispatcher.removeEventListener(e.type,e.listener,!1)}this._entries=[]},addDisposingListener:function(a,b,e){var c=this;this.addListener(a,b,function(a){c.dispose();e(a)})},addListener:function(a,g,e){a.addEventListener(g,
e,!1);this._entries.push(new b._EventGroup.Entry(a,g,e))},__class__:b.EventGroup};b._EventGroup={};b._EventGroup.Entry=function(a,b,e){this.dispatcher=a;this.type=b;this.listener=e};b._EventGroup.Entry.__name__=!0;b._EventGroup.Entry.prototype={__class__:b._EventGroup.Entry};b.KeyCodes=function(){};b.KeyCodes.__name__=!0;b.KeyCodes.toKey=function(d){switch(d){case 65:return a.Key.A;case 66:return a.Key.B;case 67:return a.Key.C;case 68:return a.Key.D;case 69:return a.Key.E;case 70:return a.Key.F;case 71:return a.Key.G;
case 72:return a.Key.H;case 73:return a.Key.I;case 74:return a.Key.J;case 75:return a.Key.K;case 76:return a.Key.L;case 77:return a.Key.M;case 78:return a.Key.N;case 79:return a.Key.O;case 80:return a.Key.P;case 81:return a.Key.Q;case 82:return a.Key.R;case 83:return a.Key.S;case 84:return a.Key.T;case 85:return a.Key.U;case 86:return a.Key.V;case 87:return a.Key.W;case 88:return a.Key.X;case 89:return a.Key.Y;case 90:return a.Key.Z;case 48:return a.Key.Number0;case 49:return a.Key.Number1;case 50:return a.Key.Number2;
case 51:return a.Key.Number3;case 52:return a.Key.Number4;case 53:return a.Key.Number5;case 54:return a.Key.Number6;case 55:return a.Key.Number7;case 56:return a.Key.Number8;case 57:return a.Key.Number9;case 96:return a.Key.Numpad0;case 97:return a.Key.Numpad1;case 98:return a.Key.Numpad2;case 99:return a.Key.Numpad3;case 100:return a.Key.Numpad4;case 101:return a.Key.Numpad5;case 102:return a.Key.Numpad6;case 103:return a.Key.Numpad7;case 104:return a.Key.Numpad8;case 105:return a.Key.Numpad9;case 107:return a.Key.NumpadAdd;
case 110:return a.Key.NumpadDecimal;case 111:return a.Key.NumpadDivide;case 108:return a.Key.NumpadEnter;case 106:return a.Key.NumpadMultiply;case 109:return a.Key.NumpadSubtract;case 112:return a.Key.F1;case 113:return a.Key.F2;case 114:return a.Key.F3;case 115:return a.Key.F4;case 116:return a.Key.F5;case 117:return a.Key.F6;case 118:return a.Key.F7;case 119:return a.Key.F8;case 120:return a.Key.F9;case 121:return a.Key.F10;case 122:return a.Key.F11;case 123:return a.Key.F12;case 37:return a.Key.Left;
case 38:return a.Key.Up;case 39:return a.Key.Right;case 40:return a.Key.Down;case 18:return a.Key.Alt;case 192:return a.Key.Backquote;case 220:return a.Key.Backslash;case 8:return a.Key.Backspace;case 20:return a.Key.CapsLock;case 188:return a.Key.Comma;case 15:return a.Key.Command;case 17:return a.Key.Control;case 46:return a.Key.Delete;case 35:return a.Key.End;case 13:return a.Key.Enter;case 187:return a.Key.Equals;case 27:return a.Key.Escape;case 36:return a.Key.Home;case 45:return a.Key.Insert;
case 219:return a.Key.LeftBracket;case 189:return a.Key.Minus;case 34:return a.Key.PageDown;case 33:return a.Key.PageUp;case 190:return a.Key.Period;case 222:return a.Key.Quote;case 221:return a.Key.RightBracket;case 186:return a.Key.Semicolon;case 16:return a.Key.Shift;case 191:return a.Key.Slash;case 32:return a.Key.Space;case 9:return a.Key.Tab;case 16777234:return a.Key.Menu;case 16777247:return a.Key.Search}return a.Key.Unknown(d)};b.MainLoop=function(){this._tickables=[]};b.MainLoop.__name__=
!0;b.MainLoop.updateEntity=function(a,g){var e=a._compMap.SpeedAdjuster_6;if(null!=e&&(e._realDt=g,g*=e.scale._value,0>=g)){e.onUpdate(g);return}for(var c=a.firstComponent;null!=c;)e=c.next,c.onUpdate(g),c=e;for(c=a.firstChild;null!=c;)e=c.next,b.MainLoop.updateEntity(c,g),c=e};b.MainLoop.prototype={render:function(a){var b=a.willRender();null!=b&&(c.Sprite.render(k.root,b),a.didRender())},update:function(a){if(!(0>=a)){1<a&&(a=1);for(var g=0;g<this._tickables.length;){var e=this._tickables[g];null==
e||e.update(a)?this._tickables.splice(g,1):++g}k.volume.update(a);b.MainLoop.updateEntity(k.root,a)}},__class__:b.MainLoop};b.MouseCodes=function(){};b.MouseCodes.__name__=!0;b.MouseCodes.toButton=function(d){switch(d){case 0:return a.MouseButton.Left;case 1:return a.MouseButton.Middle;case 2:return a.MouseButton.Right}return a.MouseButton.Unknown(d)};b.Renderer=function(){};b.Renderer.__name__=!0;b.Renderer.prototype={__class__:b.Renderer};b.Tickable=function(){};b.Tickable.__name__=!0;b.Tickable.prototype=
{__class__:b.Tickable};b.html.CanvasGraphics=function(a){this._firstDraw=!1;this._canvasCtx=a.getContext("2d")};b.html.CanvasGraphics.__name__=!0;b.html.CanvasGraphics.__interfaces__=[c.Graphics];b.html.CanvasGraphics.prototype={willRender:function(){this._firstDraw=!0},applyScissor:function(a,b,e,c){this._canvasCtx.beginPath();this._canvasCtx.rect(a|0,b|0,e|0,c|0);this._canvasCtx.clip()},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="source-over"}this._canvasCtx.globalCompositeOperation=
b},multiplyAlpha:function(a){this._canvasCtx.globalAlpha*=a},fillRect:function(a,b,e,c,f){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.fillRect(a,b,e,c,f),this._canvasCtx.globalCompositeOperation="source-over"):(this._canvasCtx.fillStyle="#"+("00000"+a.toString(16)).slice(-6),this._canvasCtx.fillRect(b|0,e|0,c|0,f|0))},drawSubImage:function(a,b,e,c,f,h,i){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawSubImage(a,
b,e,c,f,h,i),this._canvasCtx.globalCompositeOperation="source-over"):this._canvasCtx.drawImage(a.image,c|0,f|0,h|0,i|0,b|0,e|0,h|0,i|0)},restore:function(){this._canvasCtx.restore()},transform:function(a,b,e,c,f,h){this._canvasCtx.transform(a,b,e,c,f|0,h|0)},save:function(){this._canvasCtx.save()},__class__:b.html.CanvasGraphics};b.html.CanvasRenderer=function(a){this._graphics=new b.html.CanvasGraphics(a)};b.html.CanvasRenderer.__name__=!0;b.html.CanvasRenderer.__interfaces__=[b.Renderer];b.html.CanvasRenderer.prototype=
{didRender:function(){},willRender:function(){this._graphics.willRender();return this._graphics},createTexture:function(a){return new b.html.CanvasTexture(b.html.CanvasRenderer.CANVAS_TEXTURES?b.html.HtmlUtil.createCanvas(a):a)},__class__:b.html.CanvasRenderer};b.html.CanvasTexture=function(a){this.image=a};b.html.CanvasTexture.__name__=!0;b.html.CanvasTexture.__interfaces__=[c.Texture];b.html.CanvasTexture.prototype={__class__:b.html.CanvasTexture};b.html.HtmlAssetPackLoader=function(a,g){b.BasicAssetPackLoader.call(this,
a,g)};b.html.HtmlAssetPackLoader.__name__=!0;b.html.HtmlAssetPackLoader.detectImageFormats=function(a){var b=[h.AssetFormat.PNG,h.AssetFormat.JPG,h.AssetFormat.GIF],e=2,c=j.document.createElement("img");c.onload=c.onerror=function(){1==c.width&&b.unshift(h.AssetFormat.WEBP);--e;0==e&&a(b)};c.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==";var f=j.document.createElement("img");f.onload=f.onerror=function(){1==f.width&&b.unshift(h.AssetFormat.JXR);--e;0==e&&a(b)};f.src=
"data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="};b.html.HtmlAssetPackLoader.detectAudioFormats=function(){var a=j.document.createElement("audio");if(null==a||null==C(a,a.canPlayType))return[];var g=new z("\\b(iPhone|iPod|iPad|Android)\\b",""),e=j.window.navigator.userAgent;if(!b.html.WebAudioSound.get_supported()&&g.match(e))return[];for(var g=[{format:h.AssetFormat.M4A,
mimeType:"audio/mp4; codecs=mp4a"},{format:h.AssetFormat.MP3,mimeType:"audio/mpeg"},{format:h.AssetFormat.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:h.AssetFormat.WAV,mimeType:"audio/wav"}],e=[],c=0;c<g.length;){var f=g[c];++c;var i="";try{i=a.canPlayType(f.mimeType)}catch(k){}""!=i&&e.push(f.format)}return e};b.html.HtmlAssetPackLoader.supportsBlob=function(){if(b.html.HtmlAssetPackLoader._detectBlobSupport){b.html.HtmlAssetPackLoader._detectBlobSupport=!1;var a=new XMLHttpRequest;a.open("GET",
".",!0);a.responseType="blob";if("blob"!=a.responseType)return!1;b.html.HtmlAssetPackLoader._URL=b.html.HtmlUtil.loadExtension("URL").value}return null!=b.html.HtmlAssetPackLoader._URL&&null!=b.html.HtmlAssetPackLoader._URL.createObjectURL};b.html.HtmlAssetPackLoader.__super__=b.BasicAssetPackLoader;b.html.HtmlAssetPackLoader.prototype=v(b.BasicAssetPackLoader.prototype,{sendRequest:function(a,b,e,c){var f=this,h=new XMLHttpRequest,i=0,k=function(){i=Date.now();h.open("GET",a,!0);h.responseType=e;
""==h.responseType&&(h.responseType="arraybuffer");h.send()},l=0;if("undefined"!=typeof h.onprogress){var m=4;h.onprogress=function(a){i=Date.now();f.handleProgress(b,a.loaded)};l=j.window.setInterval(function(){1<=h.readyState&&5E3<Date.now()-i&&(h.abort(),--m,0<m?k():(j.window.clearInterval(l),f.handleError(b,"Request timed out")))},1E3)}h.onload=function(){j.window.clearInterval(l);var a=h.response;null==a?a=h.responseText:"blob"==e&&"arraybuffer"==h.responseType&&(a=new Blob([h.response]));c(a)};
h.onerror=function(){j.window.clearInterval(l);f.handleError(b,"Failed to load asset: error #"+h.status)};k();return h},getAssetFormats:function(a){null==b.html.HtmlAssetPackLoader._supportedFormats&&(b.html.HtmlAssetPackLoader._supportedFormats=new i.Promise,b.html.HtmlAssetPackLoader.detectImageFormats(function(a){b.html.HtmlAssetPackLoader._supportedFormats.set_result(a.concat(b.html.HtmlAssetPackLoader.detectAudioFormats()).concat([h.AssetFormat.Data]))}));b.html.HtmlAssetPackLoader._supportedFormats.get(a)},
loadEntry:function(a,c){var e=this;switch(c.format[1]){case 0:case 1:case 2:case 3:case 4:var f=j.document.createElement("img"),h=new b.EventGroup;h.addDisposingListener(f,"load",function(){b.html.HtmlAssetPackLoader.supportsBlob()&&b.html.HtmlAssetPackLoader._URL.revokeObjectURL(f.src);var a=e._platform.getRenderer().createTexture(f);null!=a?e.handleLoad(c,a):e.handleTextureError(c)});h.addDisposingListener(f,"error",function(){e.handleError(c,"Failed to load image")});b.html.HtmlAssetPackLoader.supportsBlob()?
this.sendRequest(a,c,"blob",function(a){f.src=b.html.HtmlAssetPackLoader._URL.createObjectURL(a)}):f.src=a;break;case 5:case 6:case 7:case 8:if(b.html.WebAudioSound.get_supported())this.sendRequest(a,c,"arraybuffer",function(a){b.html.WebAudioSound.ctx.decodeAudioData(a,function(a){e.handleLoad(c,new b.html.WebAudioSound(a))},function(){e.handleLoad(c,b.DummySound.getInstance())})});else{var i=j.document.createElement("audio");i.preload="auto";var k=++b.html.HtmlAssetPackLoader._mediaRefCount;null==
b.html.HtmlAssetPackLoader._mediaElements&&(b.html.HtmlAssetPackLoader._mediaElements=new p.IntMap);b.html.HtmlAssetPackLoader._mediaElements.set(k,i);h=new b.EventGroup;h.addDisposingListener(i,"canplaythrough",function(){b.html.HtmlAssetPackLoader._mediaElements.remove(k);e.handleLoad(c,new b.html.HtmlSound(i))});h.addDisposingListener(i,"error",function(){b.html.HtmlAssetPackLoader._mediaElements.remove(k);var a=i.error.code;3==a||4==a?e.handleLoad(c,b.DummySound.getInstance()):e.handleError(c,
"Failed to load audio: "+i.error.code)});h.addListener(i,"progress",function(){if(0<i.buffered.length&&0<i.duration){var a=i.buffered.end(0)/i.duration;e.handleProgress(c,a*c.bytes|0)}});i.src=a;i.load()}break;case 9:this.sendRequest(a,c,"text",function(a){e.handleLoad(c,a)})}},__class__:b.html.HtmlAssetPackLoader});b.html.HtmlMouse=function(a,c){b.BasicMouse.call(this,a);this._canvas=c};b.html.HtmlMouse.__name__=!0;b.html.HtmlMouse.__super__=b.BasicMouse;b.html.HtmlMouse.prototype=v(b.BasicMouse.prototype,
{__class__:b.html.HtmlMouse});b.html.HtmlSound=function(a){this.audioElement=a};b.html.HtmlSound.__name__=!0;b.html.HtmlSound.__interfaces__=[l.Sound];b.html.HtmlSound.prototype={__class__:b.html.HtmlSound};b.html.HtmlStage=function(a){var c=this;this._canvas=a;this.resize=new i.Signal0;this.scaleFactor=b.html.HtmlStage.computeScaleFactor();1!=this.scaleFactor&&(b.html.HtmlUtil.setVendorStyle(this._canvas,"transform-origin","top left"),b.html.HtmlUtil.setVendorStyle(this._canvas,"transform","scale("+
1/this.scaleFactor+")"));b.html.HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER&&(j.window.addEventListener("orientationchange",function(){b.html.HtmlUtil.callLater(C(c,c.hideMobileBrowser),200)},!1),this.hideMobileBrowser());j.window.addEventListener("resize",C(this,this.onWindowResize),!1);this.onWindowResize(null);this.orientation=new i.Value(null);null!=j.window.orientation&&(j.window.addEventListener("orientationchange",C(this,this.onOrientationChange),!1),this.onOrientationChange(null));this.fullscreen=
new i.Value(!1);b.html.HtmlUtil.addVendorListener(j.document,"fullscreenchange",function(){c.updateFullscreen()},!1);this.updateFullscreen()};b.html.HtmlStage.__name__=!0;b.html.HtmlStage.__interfaces__=[c.Stage];b.html.HtmlStage.computeScaleFactor=function(){var a=j.window.devicePixelRatio;null==a&&(a=1);var c=j.document.createElement("canvas").getContext("2d"),c=b.html.HtmlUtil.loadExtension("backingStorePixelRatio",c).value;null==c&&(c=1);a/=c;c=j.window.screen.height;return 1024<a*j.window.screen.width||
1024<a*c?1:a};b.html.HtmlStage.prototype={updateFullscreen:function(){this.fullscreen.set__(!0==b.html.HtmlUtil.loadFirstExtension(["fullscreen","fullScreen","isFullScreen"],j.document).value)},onOrientationChange:function(){this.orientation.set__(b.html.HtmlUtil.orientation(j.window.orientation))},hideMobileBrowser:function(){var a=this,c=j.document.documentElement.style;c.height=j.window.innerHeight+100+"px";c.width=j.window.innerWidth+"px";c.overflow="visible";b.html.HtmlUtil.callLater(function(){b.html.HtmlUtil.hideMobileBrowser();
b.html.HtmlUtil.callLater(function(){c.height=j.window.innerHeight+"px";a.onWindowResize(null)},100)})},resizeCanvas:function(a,b){var c=this.scaleFactor*a,f=this.scaleFactor*b;if(this._canvas.width==c&&this._canvas.height==f)return!1;this._canvas.width=c|0;this._canvas.height=f|0;this.resize.emit0();return!0},onWindowResize:function(){var a=this._canvas.parentElement.getBoundingClientRect();this.resizeCanvas(a.width,a.height)},get_height:function(){return this._canvas.height},get_width:function(){return this._canvas.width},
__class__:b.html.HtmlStage};b.html.HtmlUtil=function(){};b.html.HtmlUtil.__name__=!0;b.html.HtmlUtil.callLater=function(a,b){null==b&&(b=0);j.window.setTimeout(a,b)};b.html.HtmlUtil.hideMobileBrowser=function(){j.window.scrollTo(1,0)};b.html.HtmlUtil.loadExtension=function(a,c){null==c&&(c=j.window);var e=A.field(c,a);if(null!=e)return{prefix:null,field:a,value:e};for(var e=a.charAt(0).toUpperCase()+q.substr(a,1,null),f=0,h=b.html.HtmlUtil.VENDOR_PREFIXES;f<h.length;){var i=h[f];++f;var k=i+e,l=A.field(c,
k);if(null!=l)return{prefix:i,field:k,value:l}}return{prefix:null,field:null,value:null}};b.html.HtmlUtil.loadFirstExtension=function(a,c){for(var e=0;e<a.length;){var f=a[e];++e;f=b.html.HtmlUtil.loadExtension(f,c);if(null!=f.field)return f}return{prefix:null,field:null,value:null}};b.html.HtmlUtil.polyfill=function(a,c){null==c&&(c=j.window);var e=b.html.HtmlUtil.loadExtension(a,c).value;if(null==e)return!1;c[a]=e;return!0};b.html.HtmlUtil.setVendorStyle=function(a,c,e){for(var a=a.style,f=0,h=
b.html.HtmlUtil.VENDOR_PREFIXES;f<h.length;){var i=h[f];++f;a.setProperty("-"+i+"-"+c,e)}a.setProperty(c,e)};b.html.HtmlUtil.addVendorListener=function(a,c,e,f){for(var h=0,i=b.html.HtmlUtil.VENDOR_PREFIXES;h<i.length;){var j=i[h];++h;a.addEventListener(j+c,e,f)}a.addEventListener(c,e,f)};b.html.HtmlUtil.orientation=function(a){switch(a){case -90:case 90:return c.Orientation.Landscape;default:return c.Orientation.Portrait}};b.html.HtmlUtil.createEmptyCanvas=function(a,b){var c=j.document.createElement("canvas");
c.width=a;c.height=b;return c};b.html.HtmlUtil.createCanvas=function(a){var c=b.html.HtmlUtil.createEmptyCanvas(a.width,a.height),e=c.getContext("2d");e.save();e.globalCompositeOperation="copy";e.drawImage(a,0,0);e.restore();return c};b.html.WebAudioSound=function(a){this.buffer=a};b.html.WebAudioSound.__name__=!0;b.html.WebAudioSound.__interfaces__=[l.Sound];b.html.WebAudioSound.get_supported=function(){if(b.html.WebAudioSound._detectSupport){b.html.WebAudioSound._detectSupport=!1;var a=b.html.HtmlUtil.loadExtension("AudioContext").value;
null!=a&&(b.html.WebAudioSound.ctx=new a,b.html.WebAudioSound.gain=b.html.WebAudioSound.ctx.createGainNode(),b.html.WebAudioSound.gain.connect(b.html.WebAudioSound.ctx.destination),k.volume.watch(function(a){b.html.WebAudioSound.gain.gain.value=a}))}return null!=b.html.WebAudioSound.ctx};b.html.WebAudioSound.prototype={__class__:b.html.WebAudioSound};l={Director:function(){this._transitor=null}};l.Director.__name__=!0;l.Director.__super__=t;l.Director.prototype=v(t.prototype,{completeTransition:function(){null!=
this._transitor&&(this._transitor.complete(),this._transitor=null,this.invalidateVisibility())},invalidateVisibility:function(){for(var a=this.scenes.length;0<a;){var b=this.scenes[--a],b=b._compMap.Scene_5;if(null==b||b.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(a,this.scenes.length-1):[];b=this.get_topScene();null!=b&&this.show(b)},show:function(a){a=a._compMap.Scene_5;null!=a&&a.shown.emit0()},get_topScene:function(){var a=this.scenes.length;return 0<a?this.scenes[a-
1]:null},onUpdate:function(a){null!=this._transitor&&this._transitor.update(a)&&this.completeTransition()},onRemoved:function(){this.completeTransition();for(var a=0,b=this.scenes;a<b.length;){var c=b[a];++a;c.dispose()}this.scenes=[];this.occludedScenes=[];this._root.dispose()},onAdded:function(){this.owner.addChild(this._root)},get_name:function(){return"Director_4"},__class__:l.Director});l._Director={};l._Director.Transitor=function(){};l._Director.Transitor.__name__=!0;l._Director.Transitor.prototype=
{complete:function(){this._transition.complete();this._onComplete()},update:function(a){return this._transition.update(a)},__class__:l._Director.Transitor};l.Scene=function(){};l.Scene.__name__=!0;l.Scene.__super__=t;l.Scene.prototype=v(t.prototype,{get_name:function(){return"Scene_5"},__class__:l.Scene});l.Transition=function(){};l.Transition.__name__=!0;l.Transition.prototype={complete:function(){},update:function(){return!0},__class__:l.Transition};i.Promise=function(){this.success=new i.Signal1;
this.error=new i.Signal1;this.progressChanged=new i.Signal0;this.hasResult=!1;this._total=this._progress=0};i.Promise.__name__=!0;i.Promise.prototype={set_total:function(a){this._total!=a&&(this._total=a,this.progressChanged.emit0());return a},set_progress:function(a){this._progress!=a&&(this._progress=a,this.progressChanged.emit0());return a},get:function(a){return this.hasResult?(a(this._result),null):this.success.connect(a).once()},set_result:function(a){if(this.hasResult)throw"Promise result already assigned";
this._result=a;this.hasResult=!0;this.success.emit1(a);return a},__class__:i.Promise};i.Signal0=function(a){i.SignalBase.call(this,a)};i.Signal0.__name__=!0;i.Signal0.__super__=i.SignalBase;i.Signal0.prototype=v(i.SignalBase.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},__class__:i.Signal0});i._SignalBase={};i._SignalBase.Task=function(a){this.next=null;this.fn=a};i._SignalBase.Task.__name__=!0;i._SignalBase.Task.prototype={__class__:i._SignalBase.Task};p=void 0;y=
void 0;y=function(){};y.__name__=!0;y.parse=function(a){return(new y).doParse(a)};y.prototype={parseNumber:function(a){for(var b=this.pos-1,c=45==a,f=!c,h=48==a,i=!1,j=!1,k=!1,l=!1;;){a=this.str.charCodeAt(this.pos++);switch(a){case 48:h&&!i&&this.invalidNumber(b);c&&(c=!1,h=!0);f=!0;break;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:h&&!i&&this.invalidNumber(b);c&&(c=!1);f=!0;h=!1;break;case 46:(c||i)&&this.invalidNumber(b);f=!1;i=!0;break;case 101:case 69:(c||h||j)&&this.invalidNumber(b);
f=!1;j=!0;break;case 43:case 45:(!j||k)&&this.invalidNumber(b);f=!1;k=!0;break;default:f||this.invalidNumber(b),this.pos--,l=!0}if(l)break}a=x.parseFloat(q.substr(this.str,b,this.pos-b));b=a|0;return b==a?b:a},invalidNumber:function(a){throw"Invalid number at position "+a+": "+q.substr(this.str,a,this.pos-a);},parseString:function(){for(var a=this.pos,b=new H;;){var c=this.str.charCodeAt(this.pos++);if(34==c)break;if(92==c){b.addSub(this.str,a,this.pos-a-1);c=this.str.charCodeAt(this.pos++);switch(c){case 114:b.b+=
"\r";break;case 110:b.b+="\n";break;case 116:b.b+="\t";break;case 98:b.b+="\u0008";break;case 102:b.b+="\u000c";break;case 47:case 92:case 34:b.b+=String.fromCharCode(c);break;case 117:a=x.parseInt("0x"+q.substr(this.str,this.pos,4));this.pos+=4;b.b+=String.fromCharCode(a);break;default:throw"Invalid escape sequence \\"+String.fromCharCode(c)+" at position "+(this.pos-1);}a=this.pos}else if(c!=c)throw"Unclosed string";}b.addSub(this.str,a,this.pos-a-1);return b.b},parseRec:function(){for(;;){var a=
this.str.charCodeAt(this.pos++);switch(a){case 32:case 13:case 10:case 9:break;case 123:for(var b={},c=null,a=null;;){var f=this.str.charCodeAt(this.pos++);switch(f){case 32:case 13:case 10:case 9:break;case 125:return(null!=c||!1==a)&&this.invalidChar(),b;case 58:null==c&&this.invalidChar();b[c]=this.parseRec();c=null;a=!0;break;case 44:a?a=!1:this.invalidChar();break;case 34:a&&this.invalidChar();c=this.parseString();break;default:this.invalidChar()}}break;case 91:b=[];for(a=null;;)switch(f=this.str.charCodeAt(this.pos++),
f){case 32:case 13:case 10:case 9:break;case 93:return!1==a&&this.invalidChar(),b;case 44:a?a=!1:this.invalidChar();break;default:a&&this.invalidChar(),this.pos--,b.push(this.parseRec()),a=!0}break;case 116:a=this.pos;if(114!=this.str.charCodeAt(this.pos++)||117!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!0;case 102:a=this.pos;if(97!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||115!=this.str.charCodeAt(this.pos++)||
101!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return!1;case 110:a=this.pos;if(117!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++))this.pos=a,this.invalidChar();return null;case 34:return this.parseString();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 45:return this.parseNumber(a);default:this.invalidChar()}}},invalidChar:function(){this.pos--;throw"Invalid char "+this.str.charCodeAt(this.pos)+
" at position "+this.pos;},doParse:function(a){this.str=a;this.pos=0;return this.parseRec()},__class__:y};p={IntMap:function(){this.h={}}};p.IntMap.__name__=!0;p.IntMap.__interfaces__=[F];p.IntMap.prototype={remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},exists:function(a){return this.h.hasOwnProperty(a)},get:function(a){return this.h[a]},set:function(a,b){this.h[a]=b},__class__:p.IntMap};p.StringMap=function(){this.h={}};p.StringMap.__name__=!0;p.StringMap.__interfaces__=
[F];p.StringMap.prototype={iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref["$"+this.it.next()]}}},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return q.iter(a)},get:function(a){return this.h["$"+a]},set:function(a,b){this.h["$"+a]=b},__class__:p.StringMap};var M=0;Array.prototype.indexOf?q.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0}:null;
Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=String;String.__name__=!0;Array.prototype.__class__=Array;Array.__name__=!0;Date.prototype.__class__=Date;Date.__name__=["Date"];var N={__name__:["Int"]},O={__name__:["Dynamic"]},K=Number;K.__name__=["Float"];var L=Boolean;L.__ename__=["Bool"];var P=
{__name__:["Class"]},Q={};"undefined"!=typeof JSON&&(y=JSON);b.html.HtmlPlatform.instance=new b.html.HtmlPlatform;i.SignalBase.DISPATCHING_SENTINEL=new i.SignalConnection(null,null);k.root=new w;k.uncaughtError=new i.Signal1;k.hidden=new i.Value(!1);k.hasGPU=new i.Value(!1);k.volume=new m.AnimatedFloat(1);k._platform=b.html.HtmlPlatform.instance;k._calledInit=!1;j.window="undefined"!=typeof window?window:null;j.document="undefined"!=typeof window?window.document:null;j.navigator="undefined"!=typeof window?
window.navigator:null;h.Manifest._buildManifest=h.Manifest.createBuildManifests();t=h.Manifest;F=(new z("\\b(Android)\\b","")).match(j.window.navigator.userAgent)?!1:null!=(new XMLHttpRequest).withCredentials;t._supportsCrossOrigin=F;c.Sprite._scratchPoint=new r.Point;c.Font.NEWLINE=new c.Glyph(10);b.BasicKeyboard._sharedEvent=new a.KeyboardEvent;b.BasicMouse._sharedEvent=new a.MouseEvent;b.BasicPointer._sharedEvent=new a.PointerEvent;b.html.CanvasRenderer.CANVAS_TEXTURES=(new z("(iPhone|iPod|iPad)",
"")).match(j.window.navigator.userAgent);b.html.HtmlAssetPackLoader._mediaRefCount=0;b.html.HtmlAssetPackLoader._detectBlobSupport=!0;b.html.HtmlUtil.VENDOR_PREFIXES=["webkit","moz","ms","o","khtml"];b.html.HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER=j.window.top==j.window&&(new z("Mobile(/.*)? Safari","")).match(j.window.navigator.userAgent);b.html.WebAudioSound._detectSupport=!0;G.main()})();
